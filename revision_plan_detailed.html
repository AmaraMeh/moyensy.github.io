<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mon Plan de Révision - E-Campus Platform</title>
    <meta name="description" content="Plan de révision personnalisé pour les examens de 1ère Année Technologie à l'Université de Bejaia - Campus El-Kseur.">
    <meta name="author" content="Amara Mehdi">
    <link rel="icon" type="image/png" href="assets/img/icon.png">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        /* Base Variables */
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --primary: 221.2 83.2% 53.3%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96.1%;
            --secondary-foreground: 222.2 47.4% 11.2%;
            --muted: 210 40% 96.1%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96.1%;
            --accent-foreground: 222.2 47.4% 11.2%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 221.2 83.2% 53.3%;
            --radius: 0.5rem;

            /* Priority Colors */
            --priority-1: 38 92% 50%;
            --priority-2: 221.2 83.2% 53.3%;
            --priority-3: 142.1 76.2% 36.3%;

             /* Other Specific Colors */
             --exam-red: 350 80% 50%;
             --exam-red-light: 350 80% 95%;
             --exam-red-dark: 350 80% 30%;
             --passed-color: 210 10% 70%;
        }

        /* Dark Mode Variables */
        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --primary: 217.2 91.2% 59.8%;
            --primary-foreground: 222.2 47.4% 11.2%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 224.3 76.3% 48%;

             /* Priority Colors - Dark mode adjustments */
             --priority-1: 48 96% 64%;
             --priority-2: 217.2 91.2% 59.8%;
             --priority-3: 149.1 68.3% 48.3%;

              /* Other Specific Colors */
             --exam-red: 0 80% 60%;
             --exam-red-light: 0 80% 15%;
             --exam-red-dark: 0 80% 80%;
             --passed-color: 210 10% 40%;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
            position: relative;
        }
         /* Smooth transition for all relevant properties */
         body, body *,
         body *::before, body *::after {
             transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, box-shadow, opacity, transform;
             transition-duration: 0.5s; /* Smoother transition */
             transition-timing-function: ease-in-out;
         }
         /* Exclude elements managed by specific animations or libraries like AOS */
         body *:not(.floating-dot, .particle, .gradient-blob, [data-aos], [data-aos] *),
         body *::before:not([data-aos]), body *::after:not([data-aos]) {
              transition-property: all;
              transition-duration: 0.5s;
              transition-timing-function: ease-in-out;
         }


        /* Background Elements */
        .hero-bg {
            position: absolute;
            inset: 0;
            z-index: -10;
            overflow: hidden;
            pointer-events: none;
            filter: saturate(0.9);
            opacity: 0.8;
        }

        .gradient-blob {
            position: absolute;
            border-radius: 9999px;
            filter: blur(80px);
            opacity: 0.3;
            pointer-events: none;
            animation: blob-float 15s infinite ease-in-out alternate;
        }

        .gradient-blob-1 {
            top: -20%; left: -20%; width: 700px; height: 700px;
            background: linear-gradient(to bottom right, hsl(var(--primary) / 0.6), hsl(var(--ring) / 0.4), hsl(var(--accent) / 0.2));
            animation-delay: 0s;
        }

        .gradient-blob-2 {
            bottom: -20%; right: -20%; width: 700px; height: 700px;
            background: linear-gradient(to top left, hsl(var(--ring) / 0.5), hsl(var(--accent) / 0.4), transparent);
            animation-delay: 5s;
        }

        @keyframes blob-float {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(20px, 30px) scale(1.05); }
        }

        .floating-dot {
            position: absolute;
            border-radius: 9999px;
            animation: pulse-dot 2s infinite ease-in-out alternate;
            pointer-events: none;
            opacity: 0.6;
            box-shadow: 0 0 8px rgba(0,0,0,0.1);
        }
        @keyframes pulse-dot {
            0%, 100% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.1); opacity: 0.9; }
        }

         /* Specific dot colors */
         .dot-primary { background-color: hsl(var(--primary)); }
         .dot-ring { background-color: hsl(var(--ring)); }
         .dot-p1 { background-color: hsl(var(--priority-1)); }
         .dot-p2 { background-color: hsl(var(--priority-2)); }
         .dot-p3 { background-color: hsl(var(--priority-3)); }


        /* Floating Particles */
         .floating-particles {
            position: absolute;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
            z-index: -5;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0.7;
            animation: float 12s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% {
                transform: translate(0, 0) scale(1);
                opacity: 0.3;
            }
            50% {
                transform: translate(var(--x), var(--y)) scale(1.2);
                opacity: 0.8;
            }
        }


        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            z-index: 50;
            width: 3rem;
            height: 3rem;
            border-radius: 9999px;
            background: hsl(var(--background) / 0.8);
            backdrop-filter: blur(8px);
            border: 1px solid hsl(var(--border));
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .theme-toggle i {
            font-size: 1.25rem;
            color: hsl(var(--primary));
             transition: color 0.3s ease;
        }

        /* Specific Styles for Revision Plan */
        .timeline {
            position: relative;
            padding: 20px 0;
             margin-top: 40px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 3px;
            background: hsl(var(--border));
            margin-left: -1.5px;
            transition: background-color 0.3s ease;
        }

         .dark .timeline::before {
             background: hsl(var(--border));
         }

        .timeline-item {
            margin-bottom: 25px;
            position: relative;
             transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .timeline-item::after {
            content: '';
            display: table;
            clear: both;
        }

        .timeline-date {
            position: absolute;
            top: 0;
            width: 100%;
            text-align: center;
            transform: translateY(-50%);
            z-index: 10;
             pointer-events: none;
        }

        .timeline-date h3 {
            display: inline-flex;
            align-items: center;
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            min-width: 160px;
            justify-content: center;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        .timeline-date i {
            margin-right: 8px;
        }


        .timeline-content {
            position: relative;
            width: calc(50% - 25px);
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            padding: 18px;
            background: hsl(var(--card));
            box-shadow: 0 4px 10px rgba(0,0,0,0.06);
            transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
            display: flex;
            flex-direction: column;
            min-height: 100px;
        }

        .timeline-content:hover {
            transform: translateY(-4px);
            border-color: hsl(var(--primary));
            box-shadow: 0 8px 18px rgba(0,0,0,0.1);
        }

        .timeline-item:nth-child(odd) .timeline-content {
            float: left;
            clear: left;
        }

        .timeline-item:nth-child(even) .timeline-content {
            float: right;
            clear: right;
        }

         .timeline-timespan {
             font-size: 0.85rem;
             color: hsl(var(--muted-foreground));
             margin-bottom: 6px;
             display: block;
         }

        .timeline-marker {
            position: absolute;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: hsl(var(--primary));
            z-index: 1;
            top: 22px;
            margin-top: -7px;
            transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 0 0 0px hsl(var(--primary) / 0.5);
        }

        /* Marker positioning */
        .timeline-item:nth-child(odd) .timeline-marker {
            left: 50%;
            margin-left: -7px;
            transform: translateX(-calc(100% + 18px));
        }

        .timeline-item:nth-child(even) .timeline-marker {
            left: 50%;
            margin-left: -7px;
            transform: translateX(calc(100% + 18px));
        }

        .timeline-content h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 5px;
            display: flex;
             align-items: center;
             color: hsl(var(--foreground));
        }

        .timeline-content p {
            font-size: 0.95rem;
            color: hsl(var(--muted-foreground));
             flex-grow: 1;
        }

        /* Different content types */
        .study-session {
             background: linear-gradient(to right, hsl(var(--primary) / 0.04), transparent);
             border-left: 3px solid hsl(var(--primary));
             padding-left: 15px;
             transition: all 0.3s ease;
        }
         .dark .study-session {
             background: linear-gradient(to right, hsl(var(--primary) / 0.1), transparent);
         }
        .study-session .timeline-marker {
             background: hsl(var(--primary));
             box-shadow: 0 0 0 5px hsl(var(--primary) / 0.2);
        }

         /* Priority coloring for titles */
         .study-session h4 .priority-tag {
             font-size: 0.75rem;
             font-weight: 500;
             margin-left: auto;
             padding: 1px 7px;
             border-radius: 12px;
             background-color: hsl(var(--muted));
             color: hsl(var(--muted-foreground));
             white-space: nowrap;
         }
         .dark .study-session h4 .priority-tag {
              background-color: hsl(var(--secondary));
              color: hsl(var(--secondary-foreground));
         }

         .study-session h4 .priority-tag.p1 { background-color: hsl(var(--priority-1) / 0.2); color: hsl(var(--priority-1)); }
         .dark .study-session h4 .priority-tag.p1 { background-color: hsl(var(--priority-1) / 0.3); color: hsl(var(--priority-1)); }

         .study-session h4 .priority-tag.p2 { background-color: hsl(var(--priority-2) / 0.2); color: hsl(var(--priority-2)); }
         .dark .study-session h4 .priority-tag.p2 { background-color: hsl(var(--priority-2) / 0.3); color: hsl(var(--priority-2)); }

         .study-session h4 .priority-tag.p3 { background-color: hsl(var(--priority-3) / 0.2); color: hsl(var(--priority-3)); }
         .dark .study-session h4 .priority-tag.p3 { background-color: hsl(var(--priority-3) / 0.3); color: hsl(var(--priority-3)); }


        .break-time, .free-time {
            background: hsl(var(--secondary) / 0.7);
            color: hsl(var(--secondary-foreground));
            border-left: 3px solid hsl(var(--muted));
            padding-left: 15px;
        }
        .dark .break-time, .dark .free-time {
            background: hsl(var(--secondary));
        }

        .break-time .timeline-marker, .free-time .timeline-marker {
            background: hsl(var(--muted-foreground));
            box-shadow: none;
        }
        .break-time h4, .free-time h4 {
             color: hsl(var(--secondary-foreground));
        }
         .dark .break-time h4, .dark .free-time h4 {
             color: hsl(var(--foreground));
         }


        /* Exam event styling */
        .exam-event .timeline-marker {
            background-color: hsl(var(--exam-red));
             box-shadow: 0 0 0 8px hsl(var(--exam-red) / 0.3);
        }
        .exam-event .timeline-content {
             border-left-color: hsl(var(--exam-red));
             background: hsl(var(--exam-red-light));
             color: hsl(var(--foreground));
        }
         .dark .exam-event .timeline-content {
             background: hsl(var(--exam-red-light));
         }
        .exam-event h4 {
             color: hsl(var(--exam-red-dark));
        }
         .dark .exam-event h4 {
             color: hsl(var(--exam-red-dark));
         }


        /* Media Queries */
        @media (max-width: 768px) {
            .timeline::before {
                left: 20px;
                margin-left: 0;
                width: 2px;
            }

            .timeline-item {
                margin-bottom: 30px; /* Increased spacing between items */
            }

            .timeline-date {
                text-align: left;
                position: relative;
                top: 0;
                left: 0;
                transform: none;
                margin-bottom: 10px;
                z-index: 5;
                width: auto;
            }
            
            .timeline-date h3 {
                transform: none;
                font-size: 0.9rem;
                min-width: auto;
                padding: 4px 12px;
                display: inline-flex;
                margin-left: 30px; /* Align with content */
            }
            
            .timeline-date i {
                margin-right: 6px;
            }

            .timeline-content {
                width: calc(100% - 50px);
                float: right;
                margin-left: 50px;
                padding: 15px;
                min-height: auto;
            }

            .timeline-item:nth-child(odd) .timeline-content,
            .timeline-item:nth-child(even) .timeline-content {
                float: right;
                clear: right;
            }

            .timeline-marker {
                left: 20px;
                margin-left: 0;
                transform: translateX(0);
                top: 50%;
                margin-top: -7px;
                width: 12px;
                height: 12px;
            }

            .timeline-item:nth-child(odd) .timeline-marker,
            .timeline-item:nth-child(even) .timeline-marker {
                left: 20px;
                margin-left: 0;
                transform: translateX(0);
            }

            .timeline-content h4 {
                font-size: 1rem;
                margin-bottom: 3px;
            }
            
            .timeline-content p {
                font-size: 0.85rem;
            }

            .timeline-timespan {
                font-size: 0.8rem;
                margin-bottom: 4px;
            }
            
            .study-session h4 .priority-tag {
                font-size: 0.7rem;
                padding: 0 5px;
            }
            
            /* Header back button adjustment */
            header .container .flex a.absolute {
                left: 10px;
                padding: 10px;
            }
            
            /* Live info section */
            #live-info {
                padding: 15px;
                margin-bottom: 25px;
            }
            
            /* Motivational message */
            #motivational-message {
                padding: 12px;
                margin-bottom: 25px;
            }
        }

        /* Theme Toggle - move higher on mobile */
        @media (max-width: 768px) {
            .theme-toggle {
                bottom: 1.5rem;
                right: 1.5rem;
            }
        }

        /* Live Info, Countdown, and Progress styles */
        #live-info {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            padding: 20px;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
        }
        #live-info h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: hsl(var(--primary));
        }
        #live-info p {
            font-size: 1rem;
            color: hsl(var(--foreground));
        }
         #live-info #countdown {
            font-size: 1.1rem;
            font-weight: 500;
            color: hsl(var(--primary));
            margin-top: 15px;
        }

         #live-info #current-session-countdown {
             font-size: 0.9rem;
             font-weight: 400;
             color: hsl(var(--muted-foreground));
             margin-top: 8px;
             display: flex;
             align-items: center;
             justify-content: center;
         }
          #live-info #current-session-countdown i {
             margin-right: 6px;
             color: hsl(var(--ring));
          }

         #progress-section {
            margin-top: 30px;
            margin-bottom: 30px;
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
        }
        
        #progress-container {
            width: 100%;
            height: 10px;
            background: hsl(var(--secondary));
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
        }
        
        #progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, hsl(var(--primary)), hsl(var(--ring)));
            border-radius: 5px;
            transition: width 0.5s ease-in-out;
        }
        
        #progress-text {
            font-size: 0.85rem;
            color: hsl(var(--muted-foreground));
            text-align: center;
            margin-top: 8px;
        }

         #module-progress {
             margin-top: 20px;
             text-align: left;
             font-size: 0.9rem;
             color: hsl(var(--muted-foreground));
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
             gap: 15px 20px; /* Increased gap */
         }
          #module-progress h5 {
             font-weight: 600;
             margin-bottom: 12px; /* More space below title */
             color: hsl(var(--foreground));
             grid-column: 1 / -1;
          }
         #module-progress > div {
              display: flex;
              flex-direction: column; /* Stack module name and bar */
              align-items: flex-start;
               padding-bottom: 0; /* Remove bottom padding */
               border-bottom: none; /* Remove dashed border */
         }
          #module-progress .module-name {
             font-weight: 500;
             color: hsl(var(--foreground));
             margin-bottom: 4px;
          }
           #module-progress .module-progress-bar-container {
              width: 100%;
              height: 8px; /* Smaller bar */
              background: hsl(var(--secondary));
              border-radius: 4px;
              overflow: hidden;
              box-shadow: inset 0 1px 2px rgba(0,0,0,0.05));
           }
           #module-progress .module-progress-bar {
               height: 100%;
               width: 0%;
               background: hsl(var(--primary)); /* Solid color for mini bar */
               border-radius: 4px;
               transition: width 0.5s ease-in-out, background-color 0.3s ease;
           }
           /* Color code mini bars by priority? */
            #module-progress .module-progress-bar[data-priority="1"] { background-color: hsl(var(--priority-1)); }
            #module-progress .module-progress-bar[data-priority="2"] { background-color: hsl(var(--priority-2)); }
            #module-progress .module-progress-bar[data-priority="3"] { background-color: hsl(var(--priority-3)); }

            #progress-section .progress-actions {
                 margin-top: 20px;
                 display: flex;
                 justify-content: center;
                 gap: 15px;
            }
             #progress-section .progress-actions button {
                 background: hsl(var(--secondary));
                 border: 1px solid hsl(var(--border));
                 border-radius: var(--radius);
                 padding: 8px 15px;
                 font-size: 0.9rem;
                 cursor: pointer;
                 transition: all 0.2s ease;
             }
             #progress-section .progress-actions button:hover {
                 background: hsl(var(--primary));
                 color: hsl(var(--primary-foreground));
                 border-color: hsl(var(--primary));
             }
             #progress-section .progress-actions button i {
                 margin-right: 5px;
             }


          /* What's Next Section */
          #whats-next {
              background: hsl(var(--card));
              border: 1px solid hsl(var(--border));
              border-radius: var(--radius);
              padding: 15px;
              margin-top: 30px;
              margin-bottom: 30px;
              box-shadow: 0 4px 8px rgba(0,0,0,0.08);
              border-left: 4px solid hsl(var(--ring));
          }
           #whats-next h4 {
              font-size: 1.2rem;
              font-weight: 600;
              margin-bottom: 8px;
              color: hsl(var(--ring));
           }
           #whats-next p {
               font-size: 1rem;
               color: hsl(var(--foreground));
           }
            #whats-next .next-time {
                font-weight: 500;
                color: hsl(var(--primary));
                margin-right: 5px;
            }
            #whats-next i {
                 margin-right: 8px;
                 color: hsl(var(--primary));
            }
             #whats-next .next-countdown {
                 font-size: 0.9rem;
                 color: hsl(var(--muted-foreground));
                 margin-left: 10px;
                 display: inline-flex;
                 align-items: center;
             }
             #whats-next .next-countdown i {
                  margin-right: 4px;
                  font-size: 0.8rem;
                  color: hsl(var(--ring));
             }

          /* Motivational Message */
          #motivational-message {
               background: linear-gradient(to right, hsl(var(--primary) / 0.08), transparent);
               border-left: 3px solid hsl(var(--primary));
               padding: 15px;
               border-radius: var(--radius);
               margin-top: 30px;
               margin-bottom: 30px;
               font-style: italic;
               color: hsl(var(--foreground));
          }
          #motivational-message i {
               margin-right: 8px;
               color: hsl(var(--primary));
          }
           .dark #motivational-message {
               background: linear-gradient(to right, hsl(var(--primary) / 0.15), transparent);
           }

            /* Add to Calendar Button Styling */
           .add-to-calendar {
               margin-top: 10px;
               font-size: 0.8rem;
               color: hsl(var(--muted-foreground));
               display: flex;
               flex-wrap: wrap;
               gap: 6px;
               align-items: center;
           }
           .add-to-calendar button {
               background: hsl(var(--background));
               border: 1px solid hsl(var(--border));
               border-radius: 4px;
               padding: 4px 8px;
               font-size: 0.75rem;
               cursor: pointer;
               transition: all 0.2s ease;
               display: flex;
               align-items: center;
           }
           .add-to-calendar button:hover {
                background: hsl(var(--secondary));
                border-color: hsl(var(--primary));
                color: hsl(var(--primary));
           }
            .add-to-calendar button i {
                margin-right: 4px;
            }


        /* Highlighting */
        .current-day .timeline-date h3 {
            background: hsl(var(--ring));
            color: hsl(var(--primary-foreground));
             animation: pulse-bg 1.5s infinite alternate;
             box-shadow: 0 4px 10px hsl(var(--ring) / 0.3);
        }

         .current-session .timeline-content {
             border-color: hsl(var(--ring));
             background: linear-gradient(to right, hsl(var(--ring) / 0.1), transparent);
             box-shadow: 0 6px 15px rgba(0,0,0,0.15);
             transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
         }
         .dark .current-session .timeline-content {
             background: linear-gradient(to right, hsl(var(--ring) / 0.2), transparent);
         }
          .current-session .timeline-marker {
             background: hsl(var(--ring));
             animation: pulse-marker 1.5s infinite alternate;
             box-shadow: 0 0 0 8px hsl(var(--ring) / 0.3);
          }

         /* Keyframes for highlighting */
         @keyframes pulse-bg {
            0% { background: hsl(var(--primary)); }
            100% { background: hsl(var(--ring)); }
         }
          @keyframes pulse-marker {
            0% { transform: scale(1) var(--marker-translate, translateX(0)); opacity: 1; box-shadow: 0 0 0 0px hsl(var(--ring) / 0.3); }
            50% { transform: scale(1.3) var(--marker-translate, translateX(0)); opacity: 1; box-shadow: 0 0 0 8px hsl(var(--ring) / 0.5); }
            100% { transform: scale(1) var(--marker-translate, translateX(0)); opacity: 1; box-shadow: 0 0 0 0px hsl(var(--ring) / 0.3); }
         }
         /* Apply correct transform for pulse animation */
         .timeline-item:nth-child(odd).current-session .timeline-marker { --marker-translate: translateX(-calc(100% + 18px)); }
         .timeline-item:nth-child(even).current-session .timeline-marker { --marker-translate: translateX(calc(100% + 18px)); }
          /* Mobile adjustment */
         @media (max-width: 768px) {
              .current-session .timeline-marker { animation: pulse-marker-mobile 1.5s infinite alternate; }
              @keyframes pulse-marker-mobile {
                   0% { transform: scale(1); opacity: 1; box-shadow: 0 0 0 0px hsl(var(--ring) / 0.3); }
                   50% { transform: scale(1.3); opacity: 1; box-shadow: 0 0 0 8px hsl(var(--ring) / 0.5); }
                   100% { transform: scale(1); opacity: 1; box-shadow: 0 0 0 0px hsl(var(--ring) / 0.3); }
              }
         }

         /* Passed sessions styling */
         .passed .timeline-content {
            opacity: 0.6;
            background: hsl(var(--background) / 0.8);
             border-color: hsl(var(--border));
             box-shadow: none;
             transition: opacity 0.5s ease, background 0.3s ease;
         }
          .dark .passed .timeline-content {
             background: hsl(var(--background) / 0.5);
         }
         .passed .timeline-content:hover {
             transform: none;
             box-shadow: none;
             border-color: hsl(var(--border));
         }
          .passed .timeline-content h4,
          .passed .timeline-content p,
          .passed .timeline-timespan {
              color: hsl(var(--muted-foreground) / 0.7);
          }
           .dark .passed .timeline-content h4,
          .dark .passed .timeline-content p,
          .dark .passed .timeline-timespan {
              color: hsl(var(--muted-foreground) / 0.6);
          }
          .passed .timeline-marker {
             background: hsl(var(--passed-color));
             box-shadow: none;
          }


          /* Task completion checkbox */
        .task-checkbox {
            margin-top: 10px;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            color: hsl(var(--muted-foreground));
             cursor: pointer;
        }
        .task-checkbox input {
            margin-right: 8px;
             accent-color: hsl(var(--primary));
             cursor: pointer;
        }
        .completed .timeline-content {
            opacity: 0.7;
            background: hsl(var(--secondary) / 0.6);
             border-color: hsl(var(--muted));
             box-shadow: none;
             transition: opacity 0.3s ease, background 0.3s ease;
        }
         .dark .completed .timeline-content {
             background: hsl(var(--secondary) / 0.6);
         }
         .completed .timeline-content:hover {
             transform: none;
             box-shadow: none;
             border-color: hsl(var(--muted));
         }
         .completed .timeline-content h4,
         .completed .timeline-content p,
         .completed .timeline-timespan {
             text-decoration: line-through;
             color: hsl(var(--muted-foreground) / 0.8);
         }
          .dark .completed .timeline-content h4,
         .dark .completed .timeline-content p,
          .dark .completed .timeline-timespan {
             color: hsl(var(--muted-foreground) / 0.8);
         }
         .completed .timeline-marker {
             background: hsl(var(--muted-foreground));
             box-shadow: none;
         }


    </style>
</head>
<body class="min-h-screen">
    <!-- Hero Background -->
    <div class="hero-bg">
        <div class="gradient-blob gradient-blob-1"></div>
        <div class="gradient-blob gradient-blob-2"></div>
        <div class="floating-dot dot-p2 w-4 h-4 top-1/4 left-1/4" style="--x: 20px; --y: -10px; animation-delay: 0s;"></div>
        <div class="floating-dot dot-primary w-3 h-3 top-1/3 right-1/4" style="--x: -15px; --y: 15px; animation-delay: 1s;"></div>
        <div class="floating-dot dot-p1 w-2 h-2 bottom-1/4 left-1/3" style="--x: 10px; --y: 20px; animation-delay: 2s;"></div>
        <div class="floating-dot dot-p3 w-3 h-3 top-2/3 right-1/3" style="--x: -5px; --y: -25px; animation-delay: 3s;"></div>
         <div class="floating-dot dot-ring w-4 h-4 bottom-1/2 left-10" style="--x: 25px; --y: 5px; animation-delay: 0.5s;"></div>
         <div class="floating-dot dot-muted w-3 h-3 top-1/2 right-10" style="--x: -20px; --y: -20px; animation-delay: 2.5s;"></div>
    </div>

    <!-- Floating Particles -->
    <div class="floating-particles" id="particles"></div>

    <!-- Theme Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle Theme">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Header section - Add back button -->
    <header class="bg-background/80 backdrop-blur-sm shadow-lg py-6">
        <div class="container mx-auto px-4">
            <div class="flex flex-col items-center relative">
                <a href="index.html" class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-primary/10 hover:bg-primary/20 transition-colors p-2 rounded-full">
                    <i class="fas fa-arrow-left text-primary"></i>
                </a>
                <h1 class="text-2xl md:text-3xl font-bold" data-aos="fade-down">Mon Plan de Révision</h1>
                <p class="text-muted-foreground text-sm mt-1">1ère Année Technologie (LMD) - Université de Bejaia</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 max-w-3xl">

        <!-- Live Clock and Countdown -->
        <section id="live-info" data-aos="fade-up">
            <p><i class="fas fa-clock mr-2 text-primary"></i> Heure Actuelle: <span id="current-time"></span></p>
            <p class="mt-1"><i class="fas fa-calendar-day mr-2 text-primary"></i> Date Actuelle: <span id="current-date"></span></p>
            <p id="countdown" class="font-semibold mt-3"></p>
            <p id="current-session-countdown" class="hidden"></p>
        </section>

        <!-- Motivational Message -->
        <section id="motivational-message" data-aos="fade-up" data-aos-delay="150">
            <p><i class="fas fa-lightbulb mr-2"></i><span id="daily-quote">Chargement message...</span></p>
        </section>


        <!-- Revision Plan Timeline -->
        <section class="timeline">

            <!-- Disclaimer -->
             <div class="timeline-item" data-aos="fade-up">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time">
                    <span class="timeline-timespan">Conseil</span>
                    <h4><i class="fas fa-info-circle mr-2"></i> Note Importante</h4>
                    <p>Ce plan est une suggestion. Adaptez les horaires et les tâches selon votre rythme. Prenez des pauses régulières, dormez bien et mangez sainement.</p>
                 </div>
             </div>


            <!-- MAY 2025 -->

            <!-- May 15 -->
            <div class="timeline-item day-item" data-date="2025-05-15" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Jeu. 15 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="10:30" data-module="Mathématiques 2" data-task="Révision Concepts Clés">
                     <span class="timeline-timespan">09:00 - 10:30</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Révision approfondie des concepts et définitions.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="10:30" data-time-end="11:00" data-module="Pause">
                     <span class="timeline-timespan">10:30 - 11:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:00" data-time-end="12:00" data-module="Physique 2" data-task="Révision Chapitre 1">
                     <span class="timeline-timespan">11:00 - 12:00</span>
                    <h4>Physique 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Révision du Chapitre 1.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Informatique 2" data-task="Révision TP / Exercices">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Informatique 2 <span class="priority-tag p2">Prio 2</span></h4>
                    <p>Révision et pratique d'exercices ou TP.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:30" data-module="Chimie 2" data-task="Révision Chapitre 1">
                     <span class="timeline-timespan">16:00 - 17:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Révision du Chapitre 1.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:30" data-time-end="19:30" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:30 - 19:30</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:30" data-time-end="20:30" data-module="MP" data-task="Révision Chapitre 1">
                     <span class="timeline-timespan">19:30 - 20:30</span>
                    <h4>MP <span class="priority-tag p3">Prio 3</span></h4>
                    <p>Révision du Chapitre 1.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

            <!-- May 16 -->
             <div class="timeline-item day-item" data-date="2025-05-16" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Ven. 16 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="10:30" data-module="Mathématiques 2" data-task="Révision Chapitre 2">
                     <span class="timeline-timespan">09:00 - 10:30</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Révision du Chapitre 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="10:30" data-time-end="11:00" data-module="Pause">
                     <span class="timeline-timespan">10:30 - 11:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:00" data-time-end="12:00" data-module="Physique 2" data-task="Révision Chapitre 2">
                     <span class="timeline-timespan">11:00 - 12:00</span>
                    <h4>Physique 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Révision du Chapitre 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Informatique 2" data-task="Révision Chapitre 2">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Informatique 2 <span class="priority-tag p2">Prio 2</span></h4>
                    <p>Révision du Chapitre 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:30" data-module="Chimie 2" data-task="Révision Chapitre 2">
                     <span class="timeline-timespan">16:00 - 17:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Révision du Chapitre 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:30" data-time-end="19:30" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:30 - 19:30</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:30" data-time-end="20:30" data-module="MP" data-task="Révision Chapitre 2">
                     <span class="timeline-timespan">19:30 - 20:30</span>
                    <h4>MP <span class="priority-tag p3">Prio 3</span></h4>
                    <p>Révision du Chapitre 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

             <!-- May 17 -->
             <div class="timeline-item day-item" data-date="2025-05-17" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Sam. 17 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="10:30" data-module="Mathématiques 2" data-task="Pratique TD 1 & 2">
                     <span class="timeline-timespan">09:00 - 10:30</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Pratique d'exercices des TD 1 et 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="10:30" data-time-end="11:00" data-module="Pause">
                     <span class="timeline-timespan">10:30 - 11:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:00" data-time-end="12:00" data-module="Physique 2" data-task="Pratique TD 1 & 2">
                     <span class="timeline-timespan">11:00 - 12:00</span>
                    <h4>Physique 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Pratique d'exercices des TD 1 et 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Informatique 2" data-task="Pratique TP 1 & 2">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Informatique 2 <span class="priority-tag p2">Prio 2</span></h4>
                    <p>Revoir et pratiquer les TP 1 et 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:30" data-module="Chimie 2" data-task="Pratique TD 1">
                     <span class="timeline-timespan">16:00 - 17:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Pratique d'exercices du TD 1.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:30" data-time-end="19:30" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:30 - 19:30</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:30" data-time-end="20:30" data-module="MST 2" data-task="Révision Pages Clés (1-8)">
                     <span class="timeline-timespan">19:30 - 20:30</span>
                    <h4>MST 2 <span class="priority-tag p3">Prio 3</span></h4>
                    <p>Révision des pages clés 1 à 8 du PDF.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

             <!-- May 18 -->
             <div class="timeline-item day-item" data-date="2025-05-18" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Dim. 18 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Mathématiques 2" data-task="Simulation Examen">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Faire un examen blanc ou une série d'annales complète en temps limité.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="11:00" data-time-end="11:30" data-module="Pause">
                     <span class="timeline-timespan">11:00 - 11:30</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:30" data-time-end="12:30" data-module="Mathématiques 2" data-task="Correction Simulation + Points Faibles">
                     <span class="timeline-timespan">11:30 - 12:30</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Corriger la simulation et revoir les points faibles.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Physique 2" data-task="Pratique Annales Intenses">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Pratique intensive d'exercices d'annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:30" data-module="Chimie 2" data-task="Pratique Annales Intenses">
                     <span class="timeline-timespan">16:00 - 17:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Pratique intensive d'exercices d'annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:30" data-time-end="19:30" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:30 - 19:30</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:30" data-time-end="20:30" data-module="MST 2" data-task="Révision Finale Rapide">
                     <span class="timeline-timespan">19:30 - 20:30</span>
                    <h4>MST 2 <span class="priority-tag p3">Prio 3</span></h4>
                    <p>Révision rapide des points clés avant l'examen.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

             <!-- May 19 -->
             <div class="timeline-item day-item" data-date="2025-05-19" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Lun. 19 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Mathématiques 2" data-task="Révision Générale + Annales">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Révision globale et pratique d'annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="11:00" data-time-end="11:30" data-module="Pause">
                     <span class="timeline-timespan">11:00 - 11:30</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:30" data-time-end="13:00" data-module="Informatique 2" data-task="Pratique Annales Intenses">
                     <span class="timeline-timespan">11:30 - 13:00</span>
                    <h4>Informatique 2 <span class="priority-tag p2">Prio 2</span></h4>
                    <p>Pratique intensive d'exercices type annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Chimie 2" data-task="Révision Générale + Annales">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Révision globale et pratique d'annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:30" data-module="Physique 2" data-task="Révision Générale + Annales">
                     <span class="timeline-timespan">16:00 - 17:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">Prio 1</span></h4>
                    <p>Révision globale et pratique d'annales sur les chapitres importants.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:30" data-time-end="19:30" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:30 - 19:30</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:30" data-time-end="20:30" data-module="MP" data-task="Révision Chapitre 1 & 2 Finale">
                     <span class="timeline-timespan">19:30 - 20:30</span>
                    <h4>MP <span class="priority-tag p3">EXAM J-1</span></h4>
                    <p>Dernière révision rapide des Chapitres 1 et 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

            <!-- May 20 (MP Exam) -->
            <div class="timeline-item day-item exam-day" data-date="2025-05-20" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-check mr-2"></i>Mar. 20 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="MP" data-task="Révision Finale Avant Examen">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>MP <span class="priority-tag p3">EXAM J-0</span></h4>
                    <p>Révision rapide des points clés avant l'examen.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="11:00" data-time-end="14:00" data-module="Déjeuner & Préparation Examen">
                     <span class="timeline-timespan">11:00 - 14:00</span>
                    <h4>Déjeuner & Préparation Examen MP</h4>
                    <p>Repas, dernier coup d'œil, direction la fac.</p>
                </div>
            </div>
             <div class="timeline-item exam-event" data-time-start="14:30" data-time-end="16:00" data-module="Examen MP" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                 <div class="timeline-content">
                      <span class="timeline-timespan">14:30 - 16:00</span>
                    <h4><i class="fas fa-file-alt mr-2"></i> EXAMEN MP</h4>
                    <p>Bonne chance ! Salle: À vérifier sur l'affichage officiel.</p>
                     <div class="add-to-calendar"></div>
                 </div>
             </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="16:00" data-time-end="22:00" data-module="Après Examen">
                     <span class="timeline-timespan">16:00 - 22:00</span>
                    <h4>Après Examen MP</h4>
                    <p>Détente bien méritée.</p>
                </div>
            </div>

            <!-- May 21 -->
             <div class="timeline-item day-item" data-date="2025-05-21" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Mer. 21 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Informatique 2" data-task="Pratique Annales Intenses">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Informatique 2 <span class="priority-tag p2">EXAM J-1</span></h4>
                    <p>Pratique intensive d'annales pour Informatique 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="11:00" data-time-end="11:30" data-module="Pause">
                     <span class="timeline-timespan">11:00 - 11:30</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:30" data-time-end="12:00" data-module="Informatique 2" data-task="Révision Finale">
                     <span class="timeline-timespan">11:30 - 12:00</span>
                    <h4>Informatique 2 <span class="priority-tag p2">EXAM J-1</span></h4>
                    <p>Dernière révision des concepts clés et algorithmes.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Mathématiques 2" data-task="Pratique Annales">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">EXAM J-4</span></h4>
                    <p>Résolution d'exercices type annales pour Math 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:30" data-module="Physique 2" data-task="Révision Chapitre 3">
                     <span class="timeline-timespan">16:00 - 17:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-12</span></h4>
                    <p>Révision du Chapitre 3.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:30" data-time-end="19:30" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:30 - 19:30</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:30" data-time-end="21:00" data-module="Chimie 2" data-task="Révision Chapitre 3">
                     <span class="timeline-timespan">19:30 - 21:00</span>
                    <h4>Chimie 2 <span class="priority-tag p1">EXAM J-8</span></h4>
                    <p>Révision du Chapitre 3.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="21:00" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">21:00 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>


            <!-- May 22 (Info 2 Exam) -->
            <div class="timeline-item day-item exam-day" data-date="2025-05-22" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-check mr-2"></i>Jeu. 22 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Informatique 2" data-task="Révision Finale Avant Examen">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Informatique 2 <span class="priority-tag p2">EXAM J-0</span></h4>
                    <p>Dernier coup d'œil aux structures et algorithmes clés.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="11:00" data-time-end="12:00" data-module="Préparation Examen">
                     <span class="timeline-timespan">11:00 - 12:00</span>
                    <h4>Préparation Examen Info 2</h4>
                    <p>Repas léger et préparation.</p>
                </div>
            </div>
             <div class="timeline-item exam-event" data-time-start="12:30" data-time-end="14:00" data-module="Examen Informatique 2" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                 <div class="timeline-content">
                      <span class="timeline-timespan">12:30 - 14:00</span>
                    <h4><i class="fas fa-file-alt mr-2"></i> EXAMEN Informatique 2</h4>
                    <p>Bonne chance ! Salle: À vérifier sur l'affichage officiel.</p>
                     <div class="add-to-calendar"></div>
                 </div>
             </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="14:00" data-time-end="17:00" data-module="Après Examen">
                     <span class="timeline-timespan">14:00 - 17:00</span>
                    <h4>Après Examen Info 2</h4>
                    <p>Détente. Ne pensez plus à l'examen.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="17:00" data-time-end="18:30" data-module="Mathématiques 2" data-task="Pratique TD 3 + Annales">
                     <span class="timeline-timespan">17:00 - 18:30</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">EXAM J-3</span></h4>
                    <p>Pratique d'exercices du TD 3 et type annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="18:30" data-time-end="20:00" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">18:30 - 20:00</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="20:00" data-time-end="21:30" data-module="Physique 2" data-task="Révision Chapitre 4">
                     <span class="timeline-timespan">20:00 - 21:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-11</span></h4>
                    <p>Révision du Chapitre 4.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="21:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">21:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

             <!-- May 23 -->
             <div class="timeline-item day-item" data-date="2025-05-23" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Ven. 23 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Mathématiques 2" data-task="Pratique Annales Intenses">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">EXAM J-2</span></h4>
                    <p>Pratique intensive d'exercices d'annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="11:00" data-time-end="11:30" data-module="Pause">
                     <span class="timeline-timespan">11:00 - 11:30</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:30" data-time-end="12:30" data-module="Mathématiques 2" data-task="Révision Finale Concepts">
                     <span class="timeline-timespan">11:30 - 12:30</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">EXAM J-2</span></h4>
                    <p>Dernier coup d'œil aux définitions et théorèmes clés.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Chimie 2" data-task="Révision Chapitre 4 & 5">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">EXAM J-7</span></h4>
                    <p>Révision des Chapitres 4 et 5.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:30" data-module="Physique 2" data-task="Révision Chapitre 5">
                     <span class="timeline-timespan">16:00 - 17:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-10</span></h4>
                    <p>Révision du Chapitre 5.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:30" data-time-end="19:30" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:30 - 19:30</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:30" data-time-end="20:30" data-module="Anglais 2" data-task="Révision Leçon 3 + Annales">
                     <span class="timeline-timespan">19:30 - 20:30</span>
                    <h4>Anglais 2 <span class="priority-tag p3">EXAM J-8</span></h4>
                    <p>Révision de la Leçon 3 et pratique d'annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

            <!-- May 24 -->
             <div class="timeline-item day-item" data-date="2025-05-24" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Sam. 24 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Mathématiques 2" data-task="Simulation Examen Finale">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">EXAM J-1</span></h4>
                    <p>Faire un examen blanc ou une série d'annales complète en temps limité.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="11:00" data-time-end="11:30" data-module="Pause">
                     <span class="timeline-timespan">11:00 - 11:30</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:30" data-time-end="12:30" data-module="Mathématiques 2" data-task="Correction Simulation + Points Faibles">
                     <span class="timeline-timespan">11:30 - 12:30</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">EXAM J-1</span></h4>
                    <p>Corriger la simulation et revoir les points faibles.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Chimie 2" data-task="Pratique Annales">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">EXAM J-6</span></h4>
                    <p>Pratique intensive d'annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:00" data-module="MST 2" data-task="Révision Finale Rapide">
                     <span class="timeline-timespan">16:00 - 17:00</span>
                    <h4>MST 2 <span class="priority-tag p3">EXAM J-3</span></h4>
                    <p>Révision très rapide avant l'examen.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:00" data-time-end="19:00" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:00 - 19:00</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:00" data-time-end="20:30" data-module="Physique 2" data-task="Pratique Annales Intenses">
                     <span class="timeline-timespan">19:00 - 20:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-9</span></h4>
                    <p>Pratique intensive d'annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

            <!-- May 25 (Math 2 Exam) -->
            <div class="timeline-item day-item exam-day" data-date="2025-05-25" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-check mr-2"></i>Dim. 25 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="08:00" data-time-end="10:00" data-module="Mathématiques 2" data-task="Révision Finale Avant Examen">
                     <span class="timeline-timespan">08:00 - 10:00</span>
                    <h4>Mathématiques 2 <span class="priority-tag p1">EXAM J-0</span></h4>
                    <p>Dernier coup d'œil aux définitions, théorèmes et méthodes clés.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="10:00" data-time-end="10:30" data-module="Préparation Examen">
                     <span class="timeline-timespan">10:00 - 10:30</span>
                    <h4>Préparation Examen Math 2</h4>
                    <p>Direction la salle d'examen.</p>
                </div>
            </div>
             <div class="timeline-item exam-event" data-time-start="10:30" data-time-end="12:00" data-module="Examen Mathématiques 2" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                 <div class="timeline-content">
                      <span class="timeline-timespan">10:30 - 12:00</span>
                    <h4><i class="fas fa-file-alt mr-2"></i> EXAMEN Mathématiques 2</h4>
                    <p>Bonne chance ! Salle: À vérifier sur l'affichage officiel.</p>
                     <div class="add-to-calendar"></div>
                 </div>
             </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="16:00" data-module="Après Examen">
                     <span class="timeline-timespan">12:00 - 16:00</span>
                    <h4>Après Examen Math 2</h4>
                    <p>Détente prolongée.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:00" data-module="MST 2" data-task="Révision Très Rapide">
                     <span class="timeline-timespan">16:00 - 17:00</span>
                    <h4>MST 2 <span class="priority-tag p3">EXAM J-2</span></h4>
                    <p>Révision très rapide des points clés pour l'examen de demain.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="17:00" data-time-end="17:30" data-module="Pause">
                     <span class="timeline-timespan">17:00 - 17:30</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="17:30" data-time-end="19:00" data-module="Physique 2" data-task="Pratique Annales Intenses">
                     <span class="timeline-timespan">17:30 - 19:00</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-8</span></h4>
                    <p>Pratique intensive d'exercices type annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="19:00" data-time-end="20:30" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">19:00 - 20:30</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="20:30" data-time-end="21:30" data-module="Anglais 2" data-task="Révision Finale Rapide">
                     <span class="timeline-timespan">20:30 - 21:30</span>
                    <h4>Anglais 2 <span class="priority-tag p3">EXAM J-7</span></h4>
                    <p>Révision rapide des 3 leçons.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="21:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">21:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

            <!-- May 26 -->
             <div class="timeline-item day-item" data-date="2025-05-26" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Lun. 26 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="MST 2" data-task="Révision Finale Avant Examen">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>MST 2 <span class="priority-tag p3">EXAM J-1</span></h4>
                    <p>Révision rapide des 8 pages clés et des exercices types.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="11:00" data-time-end="14:00" data-module="Déjeuner & Préparation Examen">
                     <span class="timeline-timespan">11:00 - 14:00</span>
                    <h4>Déjeuner & Préparation Examen MST 2</h4>
                    <p>Repas et préparation.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Chimie 2" data-task="Pratique Annales">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">EXAM J-3</span></h4>
                    <p>Pratique intensive d'exercices type annales pour Chimie 2.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:30" data-module="Physique 2" data-task="Révision Générale Concepts">
                     <span class="timeline-timespan">16:00 - 17:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-7</span></h4>
                    <p>Révision globale des concepts et méthodes.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:30" data-time-end="19:30" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:30 - 19:30</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:30" data-time-end="20:30" data-module="Anglais 2" data-task="Pratique Annales">
                     <span class="timeline-timespan">19:30 - 20:30</span>
                    <h4>Anglais 2 <span class="priority-tag p3">EXAM J-5</span></h4>
                    <p>Pratique d'exercices type annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

            <!-- May 27 (MST 2 Exam) -->
            <div class="timeline-item day-item exam-day" data-date="2025-05-27" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-check mr-2"></i>Mar. 27 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="MST 2" data-task="Révision Finale Avant Examen">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>MST 2 <span class="priority-tag p3">EXAM J-0</span></h4>
                    <p>Dernier coup d'œil sur les définitions et points clés.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="11:00" data-time-end="14:00" data-module="Déjeuner & Préparation Examen">
                     <span class="timeline-timespan">11:00 - 14:00</span>
                    <h4>Déjeuner & Préparation Examen MST 2</h4>
                    <p>Repas et préparation.</p>
                </div>
            </div>
             <div class="timeline-item exam-event" data-time-start="14:30" data-time-end="16:00" data-module="Examen MST 2" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                 <div class="timeline-content">
                      <span class="timeline-timespan">14:30 - 16:00</span>
                    <h4><i class="fas fa-file-alt mr-2"></i> EXAMEN MST 2</h4>
                    <p>Bonne chance ! Salle: À vérifier sur l'affichage officiel.</p>
                     <div class="add-to-calendar"></div>
                 </div>
             </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="16:00" data-time-end="19:00" data-module="Après Examen">
                     <span class="timeline-timespan">16:00 - 19:00</span>
                    <h4>Après Examen MST 2</h4>
                    <p>Détente. Focus maintenant sur les examens restants.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:00" data-time-end="20:30" data-module="Chimie 2" data-task="Pratique Annales">
                     <span class="timeline-timespan">19:00 - 20:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">EXAM J-2</span></h4>
                    <p>Pratique intensive d'exercices type annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Dîner & Fin de Journée">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Dîner & Fin de Journée</h4>
                    <p>Repas du soir et repos.</p>
                </div>
            </div>

            <!-- May 28 -->
             <div class="timeline-item day-item" data-date="2025-05-28" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Mer. 28 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Chimie 2" data-task="Révision Finale Concepts & Formules">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Chimie 2 <span class="priority-tag p1">EXAM J-1</span></h4>
                    <p>Dernier coup d'œil aux formules et concepts clés.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="11:00" data-time-end="11:30" data-module="Pause">
                     <span class="timeline-timespan">11:00 - 11:30</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:30" data-time-end="13:00" data-module="Chimie 2" data-task="Simulation Examen">
                     <span class="timeline-timespan">11:30 - 13:00</span>
                    <h4>Chimie 2 <span class="priority-tag p1">EXAM J-1</span></h4>
                    <p>Faire un exercice type examen en temps limité.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Physique 2" data-task="Pratique Annales Chapitre 4">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-5</span></h4>
                    <p>Pratique d'exercices type annales sur Chapitre 4.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:00" data-module="Anglais 2" data-task="Simulation Examen">
                     <span class="timeline-timespan">16:00 - 17:00</span>
                    <h4>Anglais 2 <span class="priority-tag p3">EXAM J-3</span></h4>
                    <p>Faire un exercice type examen.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:00" data-time-end="19:00" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:00 - 19:00</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:00" data-time-end="20:30" data-module="Physique 2" data-task="Pratique Annales Chapitre 5">
                     <span class="timeline-timespan">19:00 - 20:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-5</span></h4>
                    <p>Pratique d'exercices type annales sur Chapitre 5.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

            <!-- May 29 (Chimie 2 Exam) -->
            <div class="timeline-item day-item exam-day" data-date="2025-05-29" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-check mr-2"></i>Jeu. 29 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Chimie 2" data-task="Révision Finale Avant Examen">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Chimie 2 <span class="priority-tag p1">EXAM J-0</span></h4>
                    <p>Dernière révision des concepts clés et formules.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="11:00" data-time-end="12:00" data-module="Préparation Examen">
                     <span class="timeline-timespan">11:00 - 12:00</span>
                    <h4>Préparation Examen Chimie 2</h4>
                    <p>Repas léger et préparation.</p>
                </div>
            </div>
             <div class="timeline-item exam-event" data-time-start="12:30" data-time-end="14:00" data-module="Examen Chimie 2" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                 <div class="timeline-content">
                      <span class="timeline-timespan">12:30 - 14:00</span>
                    <h4><i class="fas fa-file-alt mr-2"></i> EXAMEN Chimie 2</h4>
                    <p>Bonne chance ! Salle: À vérifier sur l'affichage officiel.</p>
                     <div class="add-to-calendar"></div>
                 </div>
             </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="14:00" data-time-end="17:00" data-module="Après Examen">
                     <span class="timeline-timespan">14:00 - 17:00</span>
                    <h4>Après Examen Chimie 2</h4>
                    <p>Détente. Préparez-vous mentalement pour Anglais et Physique.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="17:00" data-time-end="18:30" data-module="Anglais 2" data-task="Révision Finale Rapide">
                     <span class="timeline-timespan">17:00 - 18:30</span>
                    <h4>Anglais 2 <span class="priority-tag p3">EXAM J-2</span></h4>
                    <p>Révision rapide des points clés.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="18:30" data-time-end="22:00" data-module="Dîner & Fin de Journée">
                     <span class="timeline-timespan">18:30 - 22:00</span>
                    <h4>Dîner & Fin de Journée</h4>
                    <p>Repas du soir et repos.</p>
                </div>
            </div>

            <!-- May 30 -->
             <div class="timeline-item day-item" data-date="2025-05-30" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Ven. 30 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Physique 2" data-task="Pratique Annales Intenses">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-3</span></h4>
                    <p>Pratique intensive d'exercices d'annales.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="11:00" data-time-end="11:30" data-module="Pause">
                     <span class="timeline-timespan">11:00 - 11:30</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="11:30" data-time-end="13:00" data-module="Physique 2" data-task="Correction Annales + Points Faibles">
                     <span class="timeline-timespan">11:30 - 13:00</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-3</span></h4>
                    <p>Correction des annales et ciblage des points faibles.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="15:30" data-module="Chimie 2" data-task="Révision Formules Finales">
                     <span class="timeline-timespan">14:00 - 15:30</span>
                    <h4>Chimie 2 <span class="priority-tag p1">EXAM J-3</span></h4>
                    <p>Révision finale des formules et concepts clés.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="15:30" data-time-end="16:00" data-module="Pause">
                     <span class="timeline-timespan">15:30 - 16:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="300">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="16:00" data-time-end="17:00" data-module="Anglais 2" data-task="Simulation Examen">
                     <span class="timeline-timespan">16:00 - 17:00</span>
                    <h4>Anglais 2 <span class="priority-tag p3">EXAM J-1</span></h4>
                    <p>Faire un exercice type examen final.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="350">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="17:00" data-time-end="19:00" data-module="Dîner & Temps Libre">
                     <span class="timeline-timespan">17:00 - 19:00</span>
                    <h4>Dîner & Temps Libre</h4>
                    <p>Repas du soir et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="400">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:00" data-time-end="20:30" data-module="Physique 2" data-task="Révision Formules & Théorèmes">
                     <span class="timeline-timespan">19:00 - 20:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-3</span></h4>
                    <p>Révision et mémorisation des formules et théorèmes importants.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="450">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Temps Libre">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Temps Libre</h4>
                    <p>Détente en fin de journée.</p>
                </div>
            </div>

             <!-- May 31 (Anglais 2 Exam) -->
            <div class="timeline-item day-item exam-day" data-date="2025-05-31" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-check mr-2"></i>Sam. 31 Mai</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:00" data-module="Anglais 2" data-task="Révision Finale Avant Examen">
                     <span class="timeline-timespan">09:00 - 11:00</span>
                    <h4>Anglais 2 <span class="priority-tag p3">EXAM J-0</span></h4>
                    <p>Dernier coup d'œil au vocabulaire, grammaire et structures.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="11:00" data-time-end="14:00" data-module="Déjeuner & Préparation Examen">
                     <span class="timeline-timespan">11:00 - 14:00</span>
                    <h4>Déjeuner & Préparation Examen Anglais 2</h4>
                    <p>Repas et préparation.</p>
                </div>
            </div>
             <div class="timeline-item exam-event" data-time-start="14:30" data-time-end="16:00" data-module="Examen Anglais 2" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                 <div class="timeline-content">
                      <span class="timeline-timespan">14:30 - 16:00</span>
                    <h4><i class="fas fa-file-alt mr-2"></i> EXAMEN Anglais 2</h4>
                    <p>Bonne chance ! Salle: À vérifier sur l'affichage officiel.</p>
                     <div class="add-to-calendar"></div>
                 </div>
             </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="16:00" data-time-end="19:00" data-module="Après Examen">
                     <span class="timeline-timespan">16:00 - 19:00</span>
                    <h4>Après Examen Anglais 2</h4>
                    <p>Détente. Concentration maximale sur Physique 2.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="19:00" data-time-end="20:30" data-module="Physique 2" data-task="Simulation Examen">
                     <span class="timeline-timespan">19:00 - 20:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-2</span></h4>
                    <p>Faire un exercice type examen complet en temps limité.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="20:30" data-time-end="22:00" data-module="Dîner & Fin de Journée">
                     <span class="timeline-timespan">20:30 - 22:00</span>
                    <h4>Dîner & Fin de Journée</h4>
                    <p>Repas du soir et repos.</p>
                </div>
            </div>

             <!-- June 1 -->
             <div class="timeline-item day-item" data-date="2025-06-01" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-day mr-2"></i>Dim. 01 Juin</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="09:00" data-time-end="11:30" data-module="Physique 2" data-task="Pratique Annales Intenses">
                     <span class="timeline-timespan">09:00 - 11:30</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-1</span></h4>
                    <p>Pratique intense d'exercices d'annales, surtout sur les points difficiles.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time" data-time-start="11:30" data-time-end="12:00" data-module="Pause">
                     <span class="timeline-timespan">11:30 - 12:00</span>
                    <h4>Pause Courte</h4>
                    <p>Break.</p>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="12:00" data-time-end="13:00" data-module="Physique 2" data-task="Révision Formules & Théorèmes">
                     <span class="timeline-timespan">12:00 - 13:00</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-1</span></h4>
                    <p>Réviser toutes les formules et théorèmes clés.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="12:00" data-time-end="14:00" data-module="Déjeuner & Temps Libre">
                     <span class="timeline-timespan">12:00 - 14:00</span>
                    <h4>Déjeuner & Temps Libre</h4>
                    <p>Repas et détente.</p>
                </div>
            </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="14:00" data-time-end="16:00" data-module="Physique 2" data-task="Correction Annales">
                     <span class="timeline-timespan">14:00 - 16:00</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-1</span></h4>
                    <p>Corriger les annales faites et revoir les erreurs.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="250">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="16:00" data-time-end="22:00" data-module="Temps Libre Soirée">
                     <span class="timeline-timespan">16:00 - 22:00</span>
                    <h4>Temps Libre Soirée</h4>
                    <p>Détendez-vous. Ne faites plus de révision intense.</p>
                </div>
            </div>


             <!-- June 2 (Physique 2 Exam) -->
            <div class="timeline-item day-item exam-day" data-date="2025-06-02" data-aos="fade-up">
                 <div class="timeline-date"><h3><i class="fas fa-calendar-check mr-2"></i>Lun. 02 Juin</h3></div>
                 <div class="timeline-marker"></div>
                <div class="timeline-content study-session" data-time-start="08:00" data-time-end="10:00" data-module="Physique 2" data-task="Révision Finale Avant Examen">
                     <span class="timeline-timespan">08:00 - 10:00</span>
                    <h4>Physique 2 <span class="priority-tag p1">EXAM J-0</span></h4>
                    <p>Révision rapide des formules et des méthodes importantes.</p>
                     <div class="add-to-calendar"></div>
                </div>
            </div>
            <div class="timeline-item" data-aos="fade-up" data-aos-delay="50">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="10:00" data-time-end="12:00" data-module="Préparation Examen">
                     <span class="timeline-timespan">10:00 - 12:00</span>
                    <h4>Préparation Examen Physique 2</h4>
                    <p>Dernière préparation, direction la salle d'examen.</p>
                </div>
            </div>
             <div class="timeline-item exam-event" data-time-start="12:30" data-time-end="14:00" data-module="Examen Physique 2" data-aos="fade-up" data-aos-delay="100">
                <div class="timeline-marker"></div>
                 <div class="timeline-content">
                      <span class="timeline-timespan">12:30 - 14:00</span>
                    <h4><i class="fas fa-file-alt mr-2"></i> EXAMEN Physique 2</h4>
                    <p>Bonne chance ! C'est le dernier ! Salle: À vérifier sur l'affichage officiel.</p>
                     <div class="add-to-calendar"></div>
                 </div>
             </div>
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="150">
                <div class="timeline-marker"></div>
                 <div class="timeline-content free-time" data-time-start="14:00" data-time-end="22:00" data-module="FIN DES EXAMENS !">
                      <span class="timeline-timespan">14:00 - 22:00</span>
                    <h4><i class="fas fa-champagne-glasses mr-2"></i> FIN DES EXAMENS !</h4>
                    <p>Félicitations, vous avez terminé ! Profitez bien de votre liberté retrouvée !</p>
                </div>
            </div>


            <!-- End of Timeline -->
             <div class="timeline-item" data-aos="fade-up" data-aos-delay="200">
                <div class="timeline-marker"></div>
                 <div class="timeline-content break-time">
                     <span class="timeline-timespan">Plan Terminé</span>
                    <h4>Fin du Plan</h4>
                    <p>Vous avez suivi le plan de révision. Bien joué !</p>
                 </div>
             </div>


        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-background/80 backdrop-blur-sm py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <p class="text-muted-foreground">
                    &copy; 2025 Développé par Amara Mehdi<br>
                    Université de Bejaia
                </p>
            </div>
        </div>
    </footer>

    <!-- AOS Script -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            once: false,
            offset: 120,
            delay: 50,
        });
    </script>

    <!-- Theme toggle and Particles Script -->
    <script>
        // Theme toggle functionality
        function toggleTheme() {
            const body = document.body;
            const themeToggleIcon = document.querySelector('.theme-toggle i');

            // Apply the transition class *before* changing the theme class
            document.documentElement.classList.add('theme-transition');

            if (body.classList.contains('dark')) {
                body.classList.remove('dark');
                themeToggleIcon.classList.remove('fa-sun');
                themeToggleIcon.classList.add('fa-moon');
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.add('dark');
                themeToggleIcon.classList.remove('fa-moon');
                themeToggleIcon.classList.add('fa-sun');
                localStorage.setItem('theme', 'dark');
            }

             // Remove the transition class after the transition completes
             window.setTimeout(() => {
                  document.documentElement.classList.remove('theme-transition');
             }, 500); // Should match the CSS transition duration


             // Recreate particles to pick up new CSS variables colors smoothly
             createParticles();
        }

        // Check for saved theme preference on page load
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark');
        } else {
             document.body.classList.remove('dark');
        }
         // Update icon after setting initial theme
         const themeToggleIcon = document.querySelector('.theme-toggle i');
         if (themeToggleIcon) {
             if (document.body.classList.contains('dark')) {
                  themeToggleIcon.classList.remove('fa-moon');
                  themeToggleIcon.classList.add('fa-sun');
             } else {
                  themeToggleIcon.classList.remove('fa-sun');
                  themeToggleIcon.classList.add('fa-moon');
             }
         }


         // Create floating particles
         function createParticles() {
             const particlesContainer = document.getElementById('particles');
             // Get colors dynamically from computed style
             const style = getComputedStyle(document.body);
             const colors = [
                 style.getPropertyValue('--primary'),
                 style.getPropertyValue('--ring'),
                 style.getPropertyValue('--accent'),
                 style.getPropertyValue('--muted-foreground')
             ].map(color => color.trim() + ' / 0.6)');

             particlesContainer.innerHTML = '';

             const numParticles = window.innerWidth > 768 ? 60 : 40;

             for (let i = 0; i < numParticles; i++) {
                 const particle = document.createElement('div');
                 particle.className = 'particle';

                 const x = Math.random() * 100;
                 const y = Math.random() * 100;
                 const size = Math.random() * 4 + 2;
                 const color = colors[Math.floor(Math.random() * colors.length)];
                 const moveRange = 30;
                 const moveX = (Math.random() - 0.5) * moveRange * 2;
                 const moveY = (Math.random() - 0.5) * moveRange * 2;
                 const animationDuration = 10 + Math.random() * 10;
                 const animationDelay = Math.random() * 8;

                 particle.style.cssText = `
                    left: ${x}vw;
                    top: ${y}vh;
                    width: ${size}px;
                    height: ${size}px;
                    background-color: ${color};
                    --x: ${moveX}px;
                    --y: ${moveY}px;
                    animation-delay: ${animationDelay}s;
                    animation-duration: ${animationDuration}s;
                    opacity: ${0.2 + Math.random() * 0.4};
                 `;

                 particlesContainer.appendChild(particle);
             }
         }

         // Initialize particles
         createParticles();
          // Recreate particles on window resize
         window.addEventListener('resize', createParticles);


    </script>


    <!-- Live Time, Countdown, Timeline Highlight Script -->
    <script>
        const examDates = [
            { module: "MP", date: new Date("2025-05-20T14:30:00") },
            { module: "Informatique 2", date: new Date("2025-05-22T12:30:00") },
            { module: "Mathématiques 2", date: new Date("2025-05-25T10:30:00") },
            { module: "MST 2", date: new Date("2025-05-27T14:30:00") },
            { module: "Chimie 2", date: new Date("2025-05-29T12:30:00") },
            { module: "Anglais 2", date: new Date("2025-05-31T14:30:00") },
            { module: "Physique 2", date: new Date("2025-06-02T12:30:00") },
        ];

        const planStartDate = new Date("2025-05-15T00:00:00");
        const planEndDate = new Date("2025-06-02T23:59:59");

         const motivationalQuotes = [
            "Chaque effort vous rapproche de la réussite. Tenez bon !",
            "La persévérance est la clé. Vous êtes capable !",
            "Visualisez votre succès. Travaillez pour l'atteindre.",
            "Un jour à la fois, une tâche à la fois. Vous avancez.",
            "N'abandonnez pas ! La ligne d'arrivée est en vue.",
            "Croyez en vous et en vos capacités.",
            "La difficulté renforce. Chaque défi vous rend plus fort.",
            "Respirez, concentrez-vous et donnez le meilleur de vous-même.",
            "Soyez fier de chaque petit progrès.",
            "Votre travail acharné portera ses fruits.",
            "La réussite n'est pas finale, l'échec n'est pas fatal : c'est le courage de continuer qui compte.",
             "Le chemin vers le succès est toujours en construction.",
             "Transformez les obstacles en opportunités.",
             "Chaque session de révision est une étape vers la maîtrise.",
             "Restez positif, concentrez-vous sur vos objectifs.",
             "Vous avez les ressources nécessaires en vous.",
             "Petit à petit, l'oiseau fait son nid de notes excellentes.",
             "La connaissance est votre super-pouvoir."
         ];


        function updateClock() {
            const now = new Date();
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };

            document.getElementById('current-time').textContent = now.toLocaleTimeString('fr-FR', timeOptions);
            document.getElementById('current-date').textContent = now.toLocaleDateString('fr-FR', dateOptions);

            updateCountdowns(now);
            highlightTimeline(now);
        }

        function updateCountdowns(now) {
            const countdownElement = document.getElementById('countdown');
            const sessionCountdownElement = document.getElementById('current-session-countdown');
            let nextExam = null;

            for (const exam of examDates) {
                if (exam.date > now) {
                    nextExam = exam;
                    break;
                }
            }

            if (nextExam) {
                const diff = nextExam.date.getTime() - now.getTime();
                 if (diff <= 0) {
                     countdownElement.innerHTML = `<i class="fas fa-check-circle mr-2 text-primary"></i> L'examen ${nextExam.module} est en cours ou vient de se terminer !`;
                 } else if (diff < 1000 * 60 * 60 * 24) {
                     const hours = Math.floor(diff / (1000 * 60 * 60));
                     const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                     const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                     countdownElement.innerHTML = `<i class="fas fa-exclamation-triangle mr-2 text-red-500"></i> Examen ${nextExam.module} très bientôt ! ${hours}h ${minutes}m ${seconds}s`;
                 }
                 else if (diff < 1000 * 60 * 60 * 24 * 3) {
                      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                      countdownElement.innerHTML = `<i class="fas fa-calendar-alt mr-2 text-orange-500"></i> Examen ${nextExam.module} dans ${days}j ${hours}h`;
                 }
                else {
                     const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                     countdownElement.innerHTML = `<i class="fas fa-calendar-alt mr-2 text-primary"></i> Prochain examen (${nextExam.module}) dans ${days} jours`;
                }

            } else {
                countdownElement.innerHTML = `<i class="fas fa-check-circle mr-2 text-primary"></i> Tous les examens sont terminés !`;
            }

             const activeSession = document.querySelector('.timeline-item.current-session .timeline-content');
             if (activeSession && !activeSession.closest('.exam-event')) {
                 const end = activeSession.dataset.timeEnd;
                 const [endHour, endMinute] = end.split(':').map(Number);

                 const sessionDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());
                 sessionDate.setHours(endHour, endMinute, 0, 0);

                  if (endHour === 23 && endMinute === 59) {
                      sessionDate.setHours(23, 59, 59, 999);
                  } else if (endHour === 0 && endMinute === 0) {
                      sessionDate.setDate(sessionDate.getDate() + 1);
                  }

                 const sessionDiff = sessionDate.getTime() - now.getTime();

                 if (sessionDiff > 0) {
                     const sessionMinutes = Math.floor((sessionDiff % (1000 * 60 * 60)) / (1000 * 60));
                     const sessionSeconds = Math.floor((sessionDiff % (1000 * 60)) / 1000);
                     sessionCountdownElement.innerHTML = `<i class="fas fa-circle-notch fa-spin"></i> Fin de session dans ${sessionMinutes}m ${sessionSeconds}s`;
                     sessionCountdownElement.classList.remove('hidden');
                 } else {
                      sessionCountdownElement.classList.add('hidden');
                 }

             } else {
                  sessionCountdownElement.classList.add('hidden');
             }
        }

         function scrollToElement(element) {
             if (element) {
                 const headerOffset = 80; // Account for header height
                 const elementPosition = element.getBoundingClientRect().top;
                 const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                 
                 window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                 });
             }
         }

        function highlightTimeline(now) {
            const todayStr = now.toISOString().split('T')[0];

            document.querySelectorAll('.current-day').forEach(el => el.classList.remove('current-day'));
             document.querySelectorAll('.current-session').forEach(el => el.classList.remove('current-session'));
             document.querySelectorAll('.timeline-item').forEach(el => el.classList.remove('passed'));

            let currentDayElement = null;
            let currentSessionElement = null;

            const dayItems = document.querySelectorAll('.timeline-item.day-item');

            dayItems.forEach(dayItem => {
                 const dateStr = dayItem.dataset.date;
                 const dayDate = new Date(dateStr);
                 dayDate.setHours(0, 0, 0, 0);
                 const todayNormalized = new Date(todayStr);
                 todayNormalized.setHours(0, 0, 0, 0);

                 const itemsInDay = [];
                 let nextItem = dayItem.nextElementSibling;
                 while (nextItem && !nextItem.classList.contains('day-item')) {
                     itemsInDay.push(nextItem);
                     nextItem = nextItem.nextElementSibling;
                 }

                 itemsInDay.forEach(item => {
                      const content = item.querySelector('.timeline-content');
                      if (!content || !content.dataset.timeStart || !content.dataset.timeEnd) return;

                      const [startHour, startMinute] = content.dataset.timeStart.split(':').map(Number);
                      const [endHour, endMinute] = content.dataset.timeEnd.split(':').map(Number);

                      const startDateTime = new Date(dateStr);
                      startDateTime.setHours(startHour, startMinute, 0, 0);

                      const endDateTime = new Date(dateStr);
                      endDateTime.setHours(endHour, endMinute, 0, 0);

                       if (endHour === 23 && endMinute === 59) {
                           endDateTime.setHours(23, 59, 59, 999);
                       } else if (endHour === 0 && endMinute === 0 && startHour !== 0) {
                            endDateTime.setDate(endDateTime.getDate() + 1);
                       }

                       const nowLocal = new Date(now.toLocaleString('en-US', { timeZone: 'UTC' }));
                       nowLocal.setHours(now.getHours(), now.getMinutes(), now.getSeconds(), now.getMilliseconds());


                      if (nowLocal > endDateTime) {
                          item.classList.add('passed');
                      } else if (nowLocal >= startDateTime && nowLocal < endDateTime) {
                           if (dateStr === todayStr) {
                                currentSessionElement = item;
                           }
                      }
                 });

                 const lastItemOfDay = itemsInDay.length > 0 ? itemsInDay[itemsInDay.length - 1] : null;
                 if (lastItemOfDay && lastItemOfDay.classList.contains('passed')) {
                     dayItem.classList.add('passed');
                 } else if (!lastItemOfDay && dayDate < todayNormalized) {
                     dayItem.classList.add('passed');
                 } else if (dayDate.toDateString() === todayNormalized.toDateString()) {
                      if (itemsInDay.every(item => item.classList.contains('passed'))) {
                          dayItem.classList.add('passed');
                      }
                 }

                 if (dateStr === todayStr) {
                     currentDayElement = dayItem;
                 }
            });

            if (currentDayElement) {
                currentDayElement.classList.add('current-day');
            }

            if (currentSessionElement) {
                 currentSessionElement.classList.add('current-session');
            }

            if (!sessionStorage.getItem('scrolledToDay')) {
                setTimeout(() => {
                     let elementToScrollTo = null;

                     if (currentSessionElement) {
                         elementToScrollTo = currentSessionElement;
                     } else if (currentDayElement) {
                         elementToScrollTo = currentDayElement;
                     } else if (now < planStartDate) {
                          elementToScrollTo = document.querySelector('.timeline-item:first-of-type');
                      } else if (now > planEndDate) {
                          elementToScrollTo = document.querySelector('.timeline-item:last-of-type');
                      } else {
                           elementToScrollTo = document.querySelector('.timeline-item:not(.passed)');
                           if (!elementToScrollTo) {
                                elementToScrollTo = document.querySelector('.timeline-item:last-of-type');
                           }
                      }

                     if (elementToScrollTo) {
                          scrollToElement(elementToScrollTo);
                          sessionStorage.setItem('scrolledToDay', 'true');
                     } else {
                         sessionStorage.setItem('scrolledToDay', 'true');
                     }

                }, 300);
            }
        }

        // Task Completion (using localStorage)
        function initTaskCompletion() {
            const tasks = document.querySelectorAll('.timeline-item.study-session');
            tasks.forEach((taskItem) => {
                const taskContent = taskItem.querySelector('.timeline-content');
                const date = taskItem.closest('.day-item')?.dataset.date || '';
                const time = taskContent.dataset.timeStart?.replace(':', '') || '';
                const module = taskContent.dataset.module?.replace(/[^a-zA-Z0-9]/g, '') || '';
                const taskId = `${date}-${time}-${module}`;

                if (taskContent.querySelector(`input[type="checkbox"][data-task-id="${taskId}"]`)) {
                    return;
                }

                const checkboxHtml = `
                   <label class="task-checkbox">
                       <input type="checkbox" data-task-id="${taskId}" aria-label="Marquer cette tâche comme terminée">
                       Marquer comme terminé
                   </label>
                `;
                taskContent.innerHTML += checkboxHtml;

                const checkbox = taskContent.querySelector(`input[type="checkbox"][data-task-id="${taskId}"]`);
                if (!checkbox) return;

                const isCompleted = localStorage.getItem(taskId) === 'true';
                if (isCompleted) {
                    checkbox.checked = true;
                    taskItem.classList.add('completed');
                }

                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        localStorage.setItem(taskId, 'true');
                        taskItem.classList.add('completed');
                    } else {
                        localStorage.removeItem(taskId);
                        taskItem.classList.remove('completed');
                    }
                });
            });
        }

        // Set daily motivational quote
        function setDailyQuote() {
            const quoteElement = document.getElementById('daily-quote');
            if (quoteElement) {
                const today = new Date();
                const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
                const quoteIndex = (dayOfYear + 42) % motivationalQuotes.length;
                quoteElement.textContent = motivationalQuotes[quoteIndex];
            }
        }

        // Initial calls and set intervals
        initTaskCompletion();
        setDailyQuote();
        updateClock();
        setInterval(updateClock, 1000);

        // Clear scroll flag when leaving the page
        window.addEventListener('beforeunload', () => {
            sessionStorage.removeItem('scrolledToDay');
            sessionStorage.setItem('scrollY', window.scrollY); // Save scroll position
        });

        // Restore scroll position on page load
        window.addEventListener('load', () => {
            const savedScrollY = sessionStorage.getItem('scrollY');
            if (savedScrollY && sessionStorage.getItem('scrolledToDay') === 'true') {
                // Use setTimeout to allow layout rendering before scrolling
                setTimeout(() => {
                    window.scrollTo(0, parseInt(savedScrollY, 10));
                }, 50); // Small delay
            }
        });

    </script>

    <!-- Firebase SDK (kept commented out as before) -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
    <script>
        // Firebase Configuration (commented out)
        // const firebaseConfig = { ... };
        // // Initialize Firebase (commented out)
        // // firebase.initializeApp(firebaseConfig);
        // // const database = firebase.database();

        // console.log("Firebase config loaded, but initialization is commented out.");
    </script>

</body>
</html>