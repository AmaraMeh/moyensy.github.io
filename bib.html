<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bibliothèque - Université de Bejaia</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="assets/img/icon.png">
    <link rel="stylesheet" href="assets/css/style.css">

    <style>
        /* --- Base Theme Variables (Light) --- */
        :root {
            --bg-color: #f9fafb; /* bg-gray-50 */
            --text-color: #1f2937; /* text-gray-800 */
            --text-color-secondary: #4b5563; /* text-gray-600 */
            --heading-color: #11182d; /* text-gray-900 */
            --card-bg: rgba(255, 255, 255, 0.8);
            --card-border: rgba(0, 0, 0, 0.1);
            --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --primary-color: #3b82f6; /* blue-500 */
            --primary-color-darker: #2563eb; /* blue-700 */
            --secondary-color: #10b981; /* green-500 */
            --secondary-color-darker: #059669; /* green-700 */
            --link-color: #2563eb;
            --link-hover-color: #1d4ed8;
            --button-text: #ffffff;
            --campus-elksuer-bg: #e0f2fe; /* blue-100 */
            --campus-elksuer-text: #1e40af; /* blue-800 */
            --campus-elksuer-border: #1e40af;
            --campus-aboudaou-bg: #d1fae5; /* green-100 */
            --campus-aboudaou-text: #065f46; /* green-800 */
            --campus-aboudaou-border: #065f46;
            --disabled-card-bg: #e5e7eb; /* gray-200 */
            --disabled-card-text: #1f2937;
            --footer-bg: #11182d; /* gray-900 */
            --footer-text: #ffffff;
            --footer-link: #60a5fa; /* blue-400 */
            --footer-link-hover: #3b82f6; /* blue-500 */
            --modal-bg: #ffffff;
            --modal-text: #1f2937;
            --mobile-nav-bg: rgba(255, 255, 255, 0.95);
            --mobile-nav-border: #e5e7eb; /* gray-200 */
            --mobile-nav-text: #64748b; /* gray-500 */
            --mobile-nav-active: #3b82f6; /* blue-500 */
            --theme-toggle-bg: rgba(255, 255, 255, 0.8);
            --theme-toggle-border: rgba(0, 0, 0, 0.1);
            --theme-toggle-text: #4b5563;
            --theme-toggle-hover-bg: #e5e7eb;
        }

        /* --- Dark Theme Variables --- */
        html.dark {
            --bg-color: #121827; /* Dark blueish background */
            --text-color: #cbd5e1; /* slate-300 */
            --text-color-secondary: #94a3b8; /* slate-400 */
            --heading-color: #f1f5f9; /* slate-100 */
            --card-bg: rgba(30, 41, 59, 0.6); /* slate-800 with transparency */
            --card-border: rgba(255, 255, 255, 0.15);
            --card-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            --primary-color: #60a5fa; /* blue-400 */
            --primary-color-darker: #3b82f6; /* blue-500 */
            --secondary-color: #34d399; /* green-400 */
            --secondary-color-darker: #10b981; /* green-500 */
            --link-color: #60a5fa;
            --link-hover-color: #93c5fd; /* blue-300 */
            --button-text: #ffffff;
            --campus-elksuer-bg: rgba(59, 130, 246, 0.15); /* transparent blue */
            --campus-elksuer-text: #93c5fd; /* blue-300 */
            --campus-elksuer-border: #60a5fa;
            --campus-aboudaou-bg: rgba(52, 211, 153, 0.15); /* transparent green */
            --campus-aboudaou-text: #6ee7b7; /* green-300 */
            --campus-aboudaou-border: #34d399;
            --disabled-card-bg: #334155; /* slate-700 */
            --disabled-card-text: #94a3b8; /* slate-400 */
            --footer-bg: #0f172a; /* slate-900 */
            --footer-text: #cbd5e1; /* slate-300 */
            --footer-link: #60a5fa;
            --footer-link-hover: #93c5fd;
            --modal-bg: #1e293b; /* slate-800 */
            --modal-text: #f1f5f9; /* slate-100 */
            --mobile-nav-bg: rgba(15, 23, 42, 0.9); /* slate-900 transparent */
            --mobile-nav-border: rgba(255, 255, 255, 0.15);
            --mobile-nav-text: #94a3b8; /* slate-400 */
            --mobile-nav-active: #60a5fa; /* blue-400 */
            --theme-toggle-bg: rgba(30, 41, 59, 0.7);
            --theme-toggle-border: rgba(255, 255, 255, 0.15);
            --theme-toggle-text: #cbd5e1;
            --theme-toggle-hover-bg: rgba(51, 65, 85, 0.9); /* slate-700 */
        }

        /* --- Base Styles using Variables --- */
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Poppins', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        h1, h2, h3 {
            color: var(--heading-color);
            transition: color 0.3s ease;
        }

        /* Header */
        .header-container {
            /* No specific background needed if body bg shows */
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--link-color);
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            transition: all 0.3s ease;
        }
        .back-button:hover {
            background-color: var(--theme-toggle-hover-bg); /* Use similar hover as toggle */
            color: var(--link-hover-color);
            transform: scale(1.05);
        }
        .back-button i { font-size: 1rem; }
        /* Dark mode logo invert - uncomment if needed */
        /* html.dark .header-container img { filter: invert(1) hue-rotate(180deg); } */


        /* Main Card */
        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 1.2rem;
            padding: clamp(1.5rem, 5vw, 2.5rem);
            box-shadow: var(--card-shadow);
            border: 1px solid var(--card-border);
            margin-bottom: 2.5rem;
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        /* Campus Sections */
        .campus-section {
            padding: 1.5rem;
            border-radius: 0.75rem; /* Tailwind rounded-lg */
            box-shadow: var(--card-shadow);
            margin-bottom: 2rem;
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .campus-section.bg-blue-100 { /* El Kseur */
            background-color: var(--campus-elksuer-bg);
        }
        .campus-section.bg-blue-100 h3 {
             color: var(--campus-elksuer-text);
        }
        .campus-section.bg-blue-100 button {
             color: var(--campus-elksuer-text);
             border-color: var(--campus-elksuer-border);
             transition: all 0.3s ease;
        }
         .campus-section.bg-blue-100 button:hover {
              background-color: var(--campus-elksuer-text);
              color: var(--bg-color); /* Invert color for hover */
         }

        .campus-section.bg-green-100 { /* Aboudaou */
            background-color: var(--campus-aboudaou-bg);
        }
         .campus-section.bg-green-100 h3 {
             color: var(--campus-aboudaou-text);
         }
         .campus-section.bg-green-100 button {
             color: var(--campus-aboudaou-text);
             border-color: var(--campus-aboudaou-border);
             transition: all 0.3s ease;
         }
         .campus-section.bg-green-100 button:hover {
              background-color: var(--campus-aboudaou-text);
              color: var(--bg-color); /* Invert color for hover */
         }


        /* Specialty Cards */
        .service-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: var(--card-shadow);
        }
        .service-card:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Enhanced shadow */
            /* Dark mode specific hover shadow */
            /* html.dark & { box-shadow: 0 10px 25px var(--card-shadow); } */
        }
        html.dark .service-card:hover {
             box-shadow: 0 10px 25px 0 rgba(0, 0, 0, 0.35); /* Darker shadow on hover */
        }

        .service-card .service-icon i {
            transition: color 0.3s ease;
            color: var(--primary-color); /* Default icon color */
        }
        /* Specific icon colors handled by Tailwind classes, adjust if needed */
         /* html.dark .service-card .service-icon i.text-blue-600 { color: var(--primary-color); }
         html.dark .service-card .service-icon i.text-green-600 { color: var(--secondary-color); } */

        .service-card h3 {
            color: var(--text-color);
            transition: color 0.3s ease;
        }

        /* Disabled ("Bientôt disponible") Card */
        .service-card.bg-gray-200 {
            background-color: var(--disabled-card-bg);
            color: var(--disabled-card-text);
            cursor: not-allowed;
        }
         .service-card.bg-gray-200:hover {
            transform: none; /* Disable hover effect */
            box-shadow: var(--card-shadow); /* Reset shadow */
        }
         .service-card.bg-gray-200 h3 {
            color: var(--disabled-card-text);
         }


        /* Collapsible Content */
        .overflow-hidden {
            transition: max-height 0.5s ease-in-out;
        }

        /* Modal */
        #semesterModal .bg-white { /* Target the inner modal box */
             background-color: var(--modal-bg);
             color: var(--modal-text);
             border-radius: 0.75rem;
             padding: 1.5rem;
             box-shadow: var(--card-shadow);
             transition: background-color 0.3s ease, color 0.3s ease;
        }
         #semesterModal h2 {
            color: var(--heading-color);
         }
         #semesterModal button.bg-blue-500 {
             background-color: var(--primary-color);
             color: var(--button-text);
             transition: background-color 0.3s ease;
         }
         #semesterModal button.bg-blue-500:hover {
              background-color: var(--primary-color-darker);
         }
          #semesterModal button.text-gray-600 {
             color: var(--text-color-secondary);
             transition: color 0.3s ease;
         }
         #semesterModal button.text-gray-600:hover {
              color: var(--text-color);
         }
         /* Modal Backdrop */
         #semesterModal.bg-gray-600 {
             background-color: rgba(17, 24, 39, 0.7); /* Darker overlay */
             backdrop-filter: blur(4px);
         }
         html:not(.dark) #semesterModal.bg-gray-600 {
            background-color: rgba(75, 85, 99, 0.5); /* Default gray overlay */
            backdrop-filter: none;
         }


        /* Footer */
        footer {
            background-color: var(--footer-bg);
            color: var(--footer-text);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        footer a {
            color: var(--footer-link);
            transition: color 0.3s ease;
        }
        footer a:hover {
            color: var(--footer-link-hover);
        }

        /* Mobile Navigation */
        #mobile-nav {
            background-color: var(--mobile-nav-bg);
            border-top: 1px solid var(--mobile-nav-border);
            backdrop-filter: blur(10px); /* Keep blur effect */
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        .mobile-nav-item {
             color: var(--mobile-nav-text);
             transition: color 0.3s ease;
        }
        .mobile-nav-item.active-nav-item,
        .mobile-nav-item:hover,
        .mobile-nav-item:active {
            color: var(--mobile-nav-active);
        }
        .mobile-nav-item.active-nav-item::before {
            background: linear-gradient(to right, var(--mobile-nav-active), var(--primary-color)); /* Adjust gradient if needed */
        }
        /* Logged-in indicator dot */
        .mobile-nav-item.logged-in::after {
             background-color: var(--secondary-color); /* Use secondary for contrast */
             border: 2px solid var(--mobile-nav-bg); /* Match nav background */
             transition: background-color 0.3s ease, border-color 0.3s ease;
        }


        /* Theme Toggle Button */
        #theme-toggle {
            background-color: var(--theme-toggle-bg);
            color: var(--theme-toggle-text);
            border: 1px solid var(--theme-toggle-border);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }
        #theme-toggle:hover {
            background-color: var(--theme-toggle-hover-bg);
            transform: scale(1.1);
        }
        /* Icon visibility */
        html.dark #theme-toggle .fa-moon { display: none; }
        html.dark #theme-toggle .fa-sun { display: inline-block; }
        html:not(.dark) #theme-toggle .fa-moon { display: inline-block; }
        html:not(.dark) #theme-toggle .fa-sun { display: none; }

        /* Add specific styles from the calculator.html if needed */
        html.dark body {
             background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); /* Dark gradient background */
        }

        /* Refine glass card for dark mode like calculator */
        html.dark .glass-card {
             background: rgba(30, 41, 59, 0.7); /* Darker, slightly more opaque */
             backdrop-filter: blur(12px);
             border: 1px solid rgba(255, 255, 255, 0.15);
             box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Optional: Adjust header for dark mode */
         html.dark header {
             /* background: rgba(15, 23, 42, 0.5); /* Darker header bg */
             /* backdrop-filter: blur(5px); */
             /* border-bottom: 1px solid rgba(255, 255, 255, 0.1); */
         }


        /* Keep existing style.css styles */
        @media (max-width: 768px) {
            body { padding-bottom: 70px; } /* Ensure space for mobile nav + theme toggle */
        }
        /* Enhanced Mobile Navigation Styling from original */
        #mobile-nav { transition: transform 0.3s ease-in-out; }
        #mobile-nav.nav-hidden { transform: translateY(100%); }
        .mobile-nav-item { display: flex; flex-direction: column; align-items: center; padding: 4px 0; position: relative; width: 23%; border-radius: 0.75rem; }
        .mobile-nav-item .icon-container { position: relative; margin-bottom: 4px; font-size: 1.25rem; }
        .mobile-nav-item span { font-size: 0.7rem; font-weight: 500; transition: all 0.2s ease; }
        .mobile-nav-item.active-nav-item { font-weight: 600; }
        .mobile-nav-item.active-nav-item::before { content: ''; position: absolute; bottom: -3px; left: 25%; width: 50%; height: 3px; border-radius: 3px; }
        .mobile-nav-item:hover, .mobile-nav-item:active { transform: translateY(-2px); }
        .mobile-nav-item.logged-in::after { content: ''; position: absolute; top: 0; right: 25%; width: 8px; height: 8px; border-radius: 50%; }

    </style>

</head>
<body class="flex flex-col min-h-screen"> <!-- Removed bg-gray-50, handled by CSS var -->
    <div class="container mx-auto px-4 max-w-6xl flex-grow">
        <header class="mb-12 mt-8" data-aos="fade-down">
            <div class="header-container">
                 <a href="index.html" class="back-button"> <!-- Removed hover scale, handled in CSS -->
                    <i class="fas fa-arrow-left"></i>
                    Retour
                </a>
                <!-- Logo stays the same -->
                <img src="assets/img/LOGO.png" alt="Université de Bejaia" class="max-w-[200px] h-auto">
            </div>
        </header>

        <main>
            <div class="glass-card" data-aos="fade-up">
                <h1 class="text-3xl font-bold mb-8 text-center">Bibliothèque</h1>

                <!-- Year sections -->
                <div class="year-sections space-y-8">
                    <!-- 1ère année -->
                    <div class="year-section">
                        <h2 class="text-2xl font-bold mb-4">1ère année</h2>

                        <!-- Campus El-Kseur -->
                        <div class="campus-section bg-blue-100 mb-8"> <!-- Base Tailwind class for identification -->
                            <h3 class="text-xl font-semibold mb-4 cursor-pointer" onclick="toggleCollapse('campus-elksuer-content')">
                                Campus El-Kseur
                            </h3>
                            <button class="text-xl font-semibold bg-transparent border px-4 py-2 rounded mt-2 transition-all duration-300" onclick="toggleCollapse('campus-elksuer-content')">
                                Voir les spécialités
                            </button>
                            <div id="campus-elksuer-content" class="overflow-hidden" style="max-height: 0;">
                                 <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-6"> <!-- Added padding-top -->
                                    <!-- Links remain the same -->
                                    <a href="specialite-science-technologie.html" class="service-card">
                                        <div class="service-icon">
                                            <i class="fas fa-flask text-4xl text-blue-600"></i>
                                        </div>
                                        <h3 class="text-xl font-semibold mb-2">Science et Technologie LMD</h3>
                                    </a>
                                    <a href="specialite-informatique-lmd.html" class="service-card">
                                        <div class="service-icon">
                                            <i class="fas fa-laptop-code text-4xl text-blue-600"></i>
                                        </div>
                                        <h3 class="text-xl font-semibold mb-2">Informatique LMD</h3>
                                    </a>
                                    <a href="specialite-biologie.html" class="service-card">
                                        <div class="service-icon">
                                            <i class="fas fa-dna text-4xl text-blue-600"></i>
                                        </div>
                                        <h3 class="text-xl font-semibold mb-2">Biologie</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('mathematiques')" class="service-card">
                                        <div class="service-icon">
                                            <i class="fas fa-square-root-alt text-4xl text-blue-600"></i>
                                        </div>
                                        <h3 class="text-xl font-semibold mb-2">Mathématiques</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('science-matiere')" class="service-card">
                                        <div class="service-icon">
                                            <i class="fas fa-atom text-4xl text-blue-600"></i>
                                        </div>
                                        <h3 class="text-xl font-semibold mb-2">Science de la matière</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="openModalSTIng()" class="service-card">
                                        <div class="service-icon">
                                            <i class="fas fa-cogs text-4xl text-blue-600"></i>
                                        </div>
                                        <h3 class="text-xl font-semibold mb-2">Science et Technologie Ingénieur</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('informatique-ing')" class="service-card">
                                        <div class="service-icon">
                                            <i class="fas fa-desktop text-4xl text-blue-600"></i>
                                        </div>
                                        <h3 class="text-xl font-semibold mb-2">Informatique ING</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('architecture')" class="service-card">
                                        <div class="service-icon">
                                            <i class="fas fa-building text-4xl text-blue-600"></i>
                                        </div>
                                        <h3 class="text-xl font-semibold mb-2">Architecture</h3>
                                    </a>
                                    <!-- Removed duplicate Informatique ING -->
                                </div>
                            </div>
                        </div>

                        <!-- Campus Aboudaou -->
                        <div class="campus-section bg-green-100 mb-8"> <!-- Base Tailwind class -->
                             <h3 class="text-xl font-semibold mb-4 cursor-pointer" onclick="toggleCollapse('campus-aboudaou-content')">
                                Campus Aboudaou
                            </h3>
                            <button class="text-xl font-semibold bg-transparent border px-4 py-2 rounded mt-2 transition-all duration-300" onclick="toggleCollapse('campus-aboudaou-content')">
                                Voir les spécialités
                            </button>
                            <div id="campus-aboudaou-content" class="overflow-hidden" style="max-height: 0;">
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-6"> <!-- Added padding-top -->
                                    <!-- Links remain the same -->
                                    <a href="medcine.html" class="service-card">
                                        <div class="service-icon"><i class="fas fa-stethoscope text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Médecine</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('pharmacie')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-pills text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Pharmacie</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('droit')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-gavel text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Droit</h3>
                                    </a>
                                    <a href="Aboudaou 1er annes-1/segc.html" class="service-card">
                                        <div class="service-icon"><i class="fas fa-balance-scale text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">SEGC</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('langue-francaise')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-language text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Langue Française</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('langue-arabe')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-language text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Langue Arabe</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('langue-tamazight')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-language text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Langue Tamazight</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('langue-anglaise')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-language text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Langue Anglaise</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('science-sociale')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-users text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Science Sociale</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('traduction')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-exchange-alt text-4xl text-green-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Traduction</h3>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <!-- Removed Targa Ouzemour from 1ere annee as it wasn't standard -->
                    </div>

                    <!-- 2ème année -->
                     <div class="year-section"> <!-- Removed bg-white, handled by CSS var -->
                        <h2 class="text-2xl font-bold mb-4">2ème année</h2>

                        <!-- Campus Targa Ouzemour -->
                        <div class="campus-section bg-blue-100 mb-8"> <!-- Use blue style like El Kseur -->
                            <h3 class="text-xl font-semibold mb-4 cursor-pointer" onclick="toggleCollapse('collapse-2eme-targa')">
                                Campus Targa Ouzemour
                            </h3>
                             <button class="text-xl font-semibold bg-transparent border px-4 py-2 rounded mt-2 transition-all duration-300" onclick="toggleCollapse('collapse-2eme-targa')">
                                Voir les spécialités
                            </button>
                            <div id="collapse-2eme-targa" class="overflow-hidden" style="max-height: 0;">
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-6">
                                    <!-- Links remain the same, adjust hrefs as needed -->
                                    <a href="/2eme annes Targa Ouzemour/modules-GP-semestre4.html" class="service-card">
                                        <div class="service-icon"><i class="fas fa-industry text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Génie des Procédés</h3>
                                    </a>
                                    <a href="/2eme annes Targa Ouzemour/speciality.auto.html" class="service-card">
                                        <div class="service-icon"><i class="fas fa-robot text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Automatique</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('exploitation-mines-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-mountain text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Exploitation des mines</h3>
                                    </a>
                                    <a href="/2eme annes Targa Ouzemour/modules-GC-semestre4.html" class="service-card">
                                        <div class="service-icon"><i class="fas fa-building text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Génie Civil</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('telecom-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-wifi text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Télécommunications</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('valorisation-rm-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-gem text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Valorisation des ressources minérales</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('electronique-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-microchip text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Électronique</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('genie-materiaux-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-cube text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Génie des matériaux</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('maintenance-ind-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-toolbox text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Maintenance industrielle</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('electromeca-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-cog text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Électromécanique</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('construction-meca-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-wrench text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Construction mécanique</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('electrotech-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-bolt text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Électrotechnique</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('energetique-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-fire text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Énergétique</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('chimie-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-flask text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Chimie</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('physique-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-atom text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Physique</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('math-app-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-square-root-alt text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Mathématiques appliquées</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('informatique-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-laptop-code text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Informatique</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('sciences-bio-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-dna text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Sciences biologiques</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('ecologie-env-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-leaf text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Ecologie et environnement</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('sciences-alim-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-apple-alt text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Sciences alimentaires</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('biotech-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-dna text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Biotechnologies</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('hydrobio-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-water text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Hydrobiologie marine et continentale</h3>
                                    </a>
                                    <!-- Added missing L2 specialties based on comments -->
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('chimie-fond-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-flask text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Chimie fondamentale</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('physique-fond-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-atom text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Physique fondamentale</h3>
                                    </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('math-stats-2')" class="service-card">
                                        <div class="service-icon"><i class="fas fa-chart-pie text-4xl text-blue-600"></i></div>
                                        <h3 class="text-xl font-semibold mb-2">Mathématiques Statistiques et traitement informatique des données</h3>
                                    </a>
                                    <a href="javascript:void(0);" onclick="redirectSpecialty('systemes-info-2')" class="service-card">
                                         <div class="service-icon"><i class="fas fa-network-wired text-4xl text-blue-600"></i></div>
                                         <h3 class="text-xl font-semibold mb-2">Systèmes informatiques</h3>
                                     </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('biochimie-2')" class="service-card">
                                         <div class="service-icon"><i class="fas fa-vial text-4xl text-blue-600"></i></div>
                                         <h3 class="text-xl font-semibold mb-2">Biochimie</h3>
                                     </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('microbio-2')" class="service-card">
                                         <div class="service-icon"><i class="fas fa-bacteria text-4xl text-blue-600"></i></div>
                                         <h3 class="text-xl font-semibold mb-2">Microbiologie</h3>
                                     </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('bio-physio-anim-2')" class="service-card">
                                         <div class="service-icon"><i class="fas fa-paw text-4xl text-blue-600"></i></div>
                                         <h3 class="text-xl font-semibold mb-2">Biologie et physiologie animale</h3>
                                     </a>
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('bio-physio-veg-2')" class="service-card">
                                         <div class="service-icon"><i class="fas fa-seedling text-4xl text-blue-600"></i></div>
                                         <h3 class="text-xl font-semibold mb-2">Biologie et physiologie végétale</h3>
                                     </a>
                                </div>
                            </div>
                        </div>

                        <!-- Campus Aboudaou (2ème Année) -->
                        <div class="campus-section bg-green-100 mb-8">
                            <h3 class="text-xl font-semibold mb-4 cursor-pointer" onclick="toggleCollapse('collapse-2eme-aboudaou')">
                                Campus Aboudaou
                            </h3>
                             <button class="text-xl font-semibold bg-transparent border px-4 py-2 rounded mt-2 transition-all duration-300" onclick="toggleCollapse('collapse-2eme-aboudaou')">
                                Voir les spécialités
                            </button>
                            <div id="collapse-2eme-aboudaou" class="overflow-hidden" style="max-height: 0;">
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-6">
                                    <!-- Add 2nd year Aboudaou specialties here if any -->
                                     <p class="text-center col-span-full text-lg font-medium py-4">Aucune spécialité listée pour le moment.</p>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- 3ème année -->
                     <div class="year-section"> <!-- Removed bg-white -->
                         <h2 class="text-2xl font-bold mb-4">3ème année</h2>

                        <!-- Campus Targa Ouzemour (3ème Année) -->
                        <div class="campus-section bg-blue-100 mb-8">
                            <h3 class="text-xl font-semibold mb-4 cursor-pointer" onclick="toggleCollapse('collapse-3eme-targa')">
                                Campus Targa Ouzemour
                            </h3>
                            <button class="text-xl font-semibold bg-transparent border px-4 py-2 rounded mt-2 transition-all duration-300" onclick="toggleCollapse('collapse-3eme-targa')">
                                Voir les spécialités
                            </button>
                            <div id="collapse-3eme-targa" class="overflow-hidden" style="max-height: 0;">
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-6">
                                     <!-- Add 3rd year Targa Ouzemour specialties -->
                                     <p class="text-center col-span-full text-lg font-medium py-4">Spécialités de 3ème année à venir.</p>
                                     <!-- Example structure (replace with actual data) -->
                                     <!--
                                     <a href="javascript:void(0);" onclick="redirectSpecialty('genie-procedes-3')" class="service-card">
                                         <div class="service-icon"><i class="fas fa-industry text-4xl text-blue-600"></i></div>
                                         <h3 class="text-xl font-semibold mb-2">Génie des Procédés (L3)</h3>
                                     </a>
                                     ... other L3 specialties ...
                                     -->
                                </div>
                            </div>
                        </div>

                        <!-- Campus Aboudaou (3ème Année) -->
                        <div class="campus-section bg-green-100 mb-8">
                            <h3 class="text-xl font-semibold mb-4 cursor-pointer" onclick="toggleCollapse('collapse-3eme-aboudaou')">
                                Campus Aboudaou
                            </h3>
                             <button class="text-xl font-semibold bg-transparent border px-4 py-2 rounded mt-2 transition-all duration-300" onclick="toggleCollapse('collapse-3eme-aboudaou')">
                                Voir les spécialités
                            </button>
                            <div id="collapse-3eme-aboudaou" class="overflow-hidden" style="max-height: 0;">
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-6">
                                     <!-- Add 3rd year Aboudaou specialties -->
                                     <p class="text-center col-span-full text-lg font-medium py-4">Aucune spécialité listée pour le moment.</p>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- 4ème année (Master 1) -->
                    <div class="year-section">
                        <h2 class="text-2xl font-bold mb-4">4ème année (Master 1)</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                            <div class="service-card bg-gray-200 p-6 rounded-lg text-center">
                                <h3 class="text-xl font-semibold mb-2">Bientôt disponible</h3>
                            </div>
                        </div>
                    </div>

                    <!-- 5ème année (Master 2) -->
                    <div class="year-section">
                         <h2 class="text-2xl font-bold mb-4">5ème année (Master 2)</h2>
                         <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                             <div class="service-card bg-gray-200 p-6 rounded-lg text-center">
                                <h3 class="text-xl font-semibold mb-2">Bientôt disponible</h3>
                             </div>
                         </div>
                    </div>
                </div>
            </div> <!-- End glass-card -->
        </main>

        <!-- Modal for semester selection (Science et Technologie Ingénieur) -->
        <div id="semesterModalSTIng" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full mx-4"> <!-- Added max-w and w-full -->
                <h2 class="text-xl font-bold mb-4 text-center">Choisir le semestre (ST Ingénieur)</h2>
                <div class="flex flex-col space-y-4">
                    <button onclick="redirectToSemester('science-technologie-ingenieur', 1)" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300">Semestre 1</button>
                    <button onclick="redirectToSemester('science-technologie-ingenieur', 2)" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300">Semestre 2</button>
                </div>
                <button onclick="closeModalSTIng()" class="mt-6 w-full text-center text-gray-600 hover:text-gray-800 transition duration-300">Annuler</button>
            </div>
        </div>
    </div> <!-- End container -->

    <footer class="text-center text-sm py-4 mt-auto"> <!-- Removed bg-gray-900, text-white, mt-8 -->
        <div class="container mx-auto">
            <p>© 2025 Université de Bejaia • Développé par Amara Mehdi • Tous les droits réservés</p>
            <p>
                <a href="mailto:mehdi.amara@univ-bejaia.dz" class="transition-colors duration-300"> <!-- Removed text-blue-400 hover:text-blue-600 -->
                    Contact
                </a>
            </p>
        </div>
    </footer>

    <!-- Theme Toggle Button -->
    <button id="theme-toggle" class="fixed bottom-20 right-4 z-50 p-3 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300">
        <i class="fas fa-moon text-xl"></i>
        <i class="fas fa-sun text-xl hidden"></i>
    </button>

    <!-- Mobile Navigation Bar -->
    <nav id="mobile-nav" class="fixed bottom-0 left-0 right-0 backdrop-filter backdrop-blur-lg shadow-lg py-3 px-2 flex justify-around items-center z-30 md:hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
        <a href="index.html" class="mobile-nav-item text-gray-600 dark:text-gray-300">
            <div class="icon-container"><i class="fas fa-home"></i></div>
            <span>Accueil</span>
        </a>
        <a href="bib.html" class="mobile-nav-item active-nav-item text-blue-600 dark:text-blue-400">
            <div class="icon-container"><i class="fas fa-book-open"></i></div>
            <span>Cours</span>
        </a>
        <a href="calculator.html" class="mobile-nav-item text-gray-600 dark:text-gray-300">
            <div class="icon-container"><i class="fas fa-calculator"></i></div>
            <span>Moyenne</span>
        </a>
        <a href="#" onclick="checkProfileAccess(event)" class="mobile-nav-item text-gray-600 dark:text-gray-300">
            <div class="icon-container"><i class="fas fa-user"></i></div>
            <span>Profil</span>
        </a>
    </nav>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // --- Theme Switcher Logic ---
        const themeToggleBtn = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;

        // Function to apply theme based on preference
        const applyTheme = (theme) => {
            if (theme === 'dark') {
                htmlElement.classList.add('dark');
            } else {
                htmlElement.classList.remove('dark');
            }
        };

        // Check local storage on load
        const savedTheme = localStorage.getItem('theme') || 'light';
        applyTheme(savedTheme);

        // Toggle theme on button click
        themeToggleBtn.addEventListener('click', () => {
            const currentTheme = htmlElement.classList.contains('dark') ? 'dark' : 'light';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            applyTheme(newTheme);
            localStorage.setItem('theme', newTheme);
        });

        // --- Redirection Functions ---
        function redirectSpecialty(specialty) {
            // Add specific redirects or default to coming soon
            const pages = {
                'science-technologie-lmd': 'specialite-science-technologie.html',
                'biologie': 'specialite-biologie.html',
                'informatique-lmd': 'specialite-informatique-lmd.html',
                'segc': 'Aboudaou 1er annes-1/segc.html',
                'medcine': 'medcine.html',
                'informatique-ing': 'modules-informatique-ing-semestre2.html',
                'genie-procedes-2': '/2eme annes Targa Ouzemour/modules-GP-semestre4.html',
                'automatique-2': '/2eme annes Targa Ouzemour/speciality.auto.html',
                'genie-civil-2': '/2eme annes Targa Ouzemour/modules-GC-semestre4.html'
            };

            if (pages[specialty]) {
                window.location.href = pages[specialty];
            } else {
                // Show coming soon modal or redirect to coming soon page
                window.location.href = 'coming-soon.html';
            }
        }

        // --- Modal Functions ---
        function openModalSTIng() {
            const modal = document.getElementById('semesterModalSTIng');
            if (modal) {
                modal.classList.remove('hidden');
            }
        }

        function closeModalSTIng() {
            const modal = document.getElementById('semesterModalSTIng');
            if (modal) {
                modal.classList.add('hidden');
            }
        }

        function redirectToSemester(specialty, semester) {
            window.location.href = `modules-${specialty}-semestre${semester}.html`;
        }

        // --- Collapse Functions ---
        function toggleCollapse(id) {
            const content = document.getElementById(id);
            if (!content) return;

            if (!content.style.maxHeight || content.style.maxHeight === "0px") {
                requestAnimationFrame(() => {
                    content.style.maxHeight = content.scrollHeight + "px";
                });
            } else {
                content.style.maxHeight = "0";
            }
        }

        // --- Mobile Navigation Functions ---
        function checkProfileAccess(event) {
            event.preventDefault();
            const userData = localStorage.getItem('userData');
            if (!userData) {
                window.location.href = 'auth.html?redirect=profile';
            } else {
                window.location.href = 'profile.html';
            }
        }

        function setActiveMobileNavItem() {
            const currentPath = window.location.pathname.split('/').pop() || 'index.html';
            const navItems = document.querySelectorAll('.mobile-nav-item');
            const userData = localStorage.getItem('userData');
            const profileNavItem = document.querySelector('.mobile-nav-item[onclick*="checkProfileAccess"]');

            navItems.forEach(item => {
                item.classList.remove('active-nav-item');
                const href = item.getAttribute('href');
                if (href && href !== '#' && currentPath === href.split('/').pop()) {
                    item.classList.add('active-nav-item');
                }
            });

            if (currentPath === 'bib.html') {
                document.querySelector('.mobile-nav-item[href="bib.html"]')?.classList.add('active-nav-item');
            }

            if (userData && profileNavItem) {
                profileNavItem.classList.add('logged-in');
            } else if (profileNavItem) {
                profileNavItem.classList.remove('logged-in');
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            setActiveMobileNavItem();
            // Initialize AOS
            AOS.init({
                duration: 800,
                once: true
            });
        });
    </script>
    <!-- Keep library-features.js if it contains relevant functionality -->
    <!-- <script type="module" src="js/library-features.js"></script> -->
</body>
</html>